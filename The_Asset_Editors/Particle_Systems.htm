<!--?xml version="1.0" encoding="utf-8" ?--><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "..";
    gCommonRootRelPath = "..";
    gTopicId = "6.4";
  
//]]></script>

  <script type="text/javascript" src="../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../template/styles/topic.min.css">
  <link rel="stylesheet" type="text/css" href="../template/Charcoal_Grey/topicheader.css">
  <meta name="topic-status" content="Draft">
<link rel="stylesheet" type="text/css" href="../assets/css/default.css"><script src="../../assets/scripts/main_script.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="generator" content="Adobe RoboHelp 2022">
  <title>The Particle System Editor</title>
  <meta name="topic-status" content="Draft">
  <link rel="stylesheet" type="text/css" href="../assets/css/default.css">
  <meta name="rh-authors" content="Gurpreet S. Matharoo, Bart Teunis">
  <meta name="topic-comment" content="Documentation page for the Particle System Editor">
  <meta name="template" content="../assets/masterpages/Manual_Page.htt">
  <meta name="search-keywords" content="particles,particle system,particle emitter">
  <meta name="rh-index-keywords" content="Particle System Editor">
<meta name="brsnext" value="The_Asset_Editors/Particle_System_Properties/Emitter_Properties.htm"><meta name="brsprev" value="The_Asset_Editors/Object_Properties/Object_Variables.htm"></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="The Particle System Editor">
        <span>The Particle System Editor</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <div>
  </div>
  <div>
  <h1><span data-field="title" data-format="default">粒子系统编辑器</span></h1>
  <p><span data-field="title" data-format="default">粒子系统编辑器</span>可用于创建视觉粒子效果并实时预览，就像它们在游戏中一样。</p>
  <p>双击<a href="../Introduction/The_Asset_Browser.htm">资源浏览器</a>中的粒子系统资源将打开此编辑器：</p>
  <p><img class="center" height="862" src="../assets/Images/Asset_Editors/Editor_ParticleSystems.png" style="cursor: nwse-resize;" width="1476">粒子系统由不同的发射器组成，每个发射器发射一个特定类型的粒子。粒子只是一个根据其设置设置动画的图像，并具有固定的寿命。</p>
  <p>通过在系统内创建发射器并配置其粒子设置，您可以创建从火灾、爆炸等到使用多个发射器的复杂效果，如上所示。</p>
  <div class="minitoc" data-minitoc-targetid="drop-down" style="">
    <p class="minitoc-caption" href="#" style="">目录</p>
    
  <ol class="minitoc-list" style=""><li><a href="#creating_a_part" class="minitoc-list-item">创建粒子系统</a></li><li><a href="#using_a_particl" class="minitoc-list-item">使用粒子系统</a></li><li><a href="#h" class="minitoc-list-item">画布</a></li><ol><li><a href="#origin,_draw_or" class="minitoc-list-item">原点，绘图顺序 和 复制GML</a></li><li><a href="#toolbox" class="minitoc-list-item">工具箱</a></li></ol><li><a href="#emitters" class="minitoc-list-item">发射器</a></li><li><a href="#configuring_an_" class="minitoc-list-item">配置发射器</a></li><li><a href="#h1" class="minitoc-list-item">共享发射器</a></li><ol><li><a href="#creating_a_pres" class="minitoc-list-item">创建预设</a></li><li><a href="#linking_an_emit" class="minitoc-list-item">将发射器链接到预设</a></li><li><a href="#changing_linked" class="minitoc-list-item">更改链接发射器的属性</a></li><li><a href="#unlinking_an_em" class="minitoc-list-item">取消发射器与预设的链接</a></li></ol></ol></div>
  <h2 id="creating_a_part">创建粒子系统</h2>
  <p>以下是设置<span data-keyref="Type_Asset_ParticleSystem"><a target="_blank" href="Particle_Systems.htm">粒子系统资源</a></span>的基本步骤：</p>
  <ul class="colour">
    <li>创建<span data-keyref="Type_Asset_ParticleSystem"><a target="_blank" href="Particle_Systems.htm">粒子系统资源</a></span>并修改默认发射器(请参阅<a href="Particle_System_Properties/Emitter_Properties.htm">发射器属性</a>)</li>
    <li>或者，添加更多发射器以达到您想要的效果</li>
    <li>通过以下三种方式中的任意一种将粒子系统资源添加到您的游戏中：<ul> <li>将其放入<a href="Rooms.htm">房间编辑器</a>中的资源层中</li><li>将其作为轨道放入<a href="Sequences.htm">序列中</a></li><li>添加 <span data-keyref="GML_Code">GML 代码</span>以在运行时显示效果：<ul> <li>使用 <span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/Drawing/Particles/Particle_Systems/part_system_create.htm">part_system_create</a></span>/<span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/Drawing/Particles/Particle_Systems/part_system_create_layer.htm">part_system_create_layer</a></span> 或 GML Visual 等效项创建粒子系统 : <a href="../Drag_And_Drop/Drag_And_Drop_Reference/Particles/Create_Particle_System.htm">创建粒子系统</a></li> <li>将通过<strong>将 GML 复制到剪贴板</strong> <img class="icon" src="../assets/Images/Icons/Icon_GML_To_Clipboard.png"> 按钮生成的代码粘贴到代码中需要的位置</li> <li>使用在现有粒子系统中创建粒子  <span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/Drawing/Particles/Particle_Systems/part_particles_burst.htm"> part_articles_burst</a></span></li> </ul> </li> </ul></li>
  </ul>
  <h2 id="using_a_particl">使用粒子系统</h2>
  <p>如上所述，可以通过三种方式在游戏中使用粒子系统：</p>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#"><span data-open-text="true" data-skip-index="true">添加到房间编辑器</span><span data-close-text="true">添加到房间编辑器</span></a></p>
  <div class="droptext" data-targetname="drop-down1">
    <p class="dropspot">将粒子系统资源拖动到<a href="Rooms.htm">房间编辑器</a>画布上，并选择资源层。整个粒子系统(包括其发射器)将作为元素添加到层中。要在房间编辑器中预览粒子系统，请按<strong>播放动画</strong>按钮<img class="icon" src="../assets/Images/Icons/Icon_PlayRoom.png">。</p>
    <p class="dropspot">当游戏运行时，粒子系统在层上实例化并立即开始播放。添加的层元素类型为 <span class="inline2">layerelementtype_particlesystem</span> (请参见 <span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/Asset_Management/Rooms/General_Layer_Functions/layer_get_element_type.htm">layer_get_element_type</a></span>).</p>
    <p class="note"><span data-conref="../assets/snippets/Tag_note.hts"><span class="note">注意</span></span>&nbsp;您无法获取以此方式添加的粒子系统的粒子系统 ID。</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down2" href="#"><span data-open-text="true" data-skip-index="true">添加到序列编辑器</span><span data-close-text="true">添加到序列编辑器</span></a></p>
  <div class="droptext" data-targetname="drop-down2">
    <p class="dropspot">将粒子系统资源拖动到<a href="Sequences.htm">序列编辑器</a>画布上。这会将类型为 <span class="inline2">seqtracktype_particlesystem</span> 的新序列轨迹添加到序列中。</p>
    <p class="note"><span data-conref="../assets/snippets/Tag_important.hts"><span class="important">重要提示</span></span>这将为整个粒子系统添加单个轨迹。粒子系统中的各个发射器不能在序列中单独设置动画。</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down3" href="#"><span data-open-text="true" data-skip-index="true">在运行时创建</span><span data-close-text="true">在运行时创建</span></a></p>
  <div class="droptext" data-targetname="drop-down3">
    <p class="dropspot">使用内置函数 <span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/Drawing/Particles/Particle_Systems/part_system_create.htm">part_system_create</a></span>/<span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/Drawing/Particles/Particle_Systems/part_system_create_layer.htm">part_system_create_layer</a></span> 之一在 <span data-keyref="GML_Code">GML Code</span> 中生成粒子系统，或者在 <span data-keyref="GML_Visual">GML Visual</span> 中使用 <a href="../Drag_And_Drop/Drag_And_Drop_Reference/Particles/Create_Particle_System.htm">Create 粒子系统</a>。</p>
    <p class="dropspot">将 <span data-keyref="Type_Asset_ParticleSystem"><a target="_blank" href="Particle_Systems.htm"> 粒子系统资源 </a></span> 作为可选的 <span class="inline2">partsys</span> 参数传递给函数 / 动作：</p>
    <p class="code">p_sys = part_system_create(ps_MyBeautifulParticleEffect);</p>
    <p class="dropspot">通过传递此可选的 <span class="inline2">partsys</span> 参数的值，<span data-keyref="GameMaker Name">GameMaker</span> 将根据您在粒子系统编辑器中的设置来初始化粒子系统。</p>
    <p class="dropspot">您可以使用 <span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/Drawing/Particles/particle_get_info.htm">particle_get_info</a></span> 获取粒子系统中使用的发射器和粒子类型。您可以使用此选项使用 <span class="inline3_func"><a href="../GameMaker_Language/GML_Reference/Drawing/Particles/Particle_Systems/part_particles_create.htm">part_particles_create</a></span> 手动生成粒子类型。</p>
  </div>
  <h2 id="h">画布</h2>
  <p>画布显示添加到系统中的所有粒子发射器的预览，并允许您移动发射器并调整其大小。</p>
  <p>将显示每个发射器，包括其发射粒子的区域和形状(矩形、椭圆、菱形或线条)的预览。可以分别为每个发射器禁用该预览。</p>
  <h3 id="origin,_draw_or">原点，绘图顺序 和 复制GML</h3>
  <p><strong> 原点 </strong> 和 <strong> 绘制顺序 </strong> 以及 <strong> 将 GML 复制到图形 </strong> 按钮显示在画布的左上角。</p>
  <p><img class="center" src="../assets/Images/Asset_Editors/Editor_ParticleSystems_DrawOrderOrigin.png"><strong> 原点 </strong> 表示画布上发生变换的位置，类似于精灵的原点。如果您将粒子系统资源添加到序列或房间资源层，则其 X，Y 位置将对应于此处设置的原点。</p>
  <p><strong> 绘制顺序 </strong> 确定绘制粒子的顺序 (即哪些粒子在其他粒子之上绘制)。</p>
  <table style="caption-side: top">
    <caption>粒子绘制顺序</caption>
    <colgroup>
      <col style="width:33.33%">
      <col style="width:33.33%">
    </colgroup>
    <tbody>
      <tr>
        <th>默认(从旧到新)</th>
        <th>反转(从新到旧)</th>
      </tr>
      <tr>
        <td>Older particles are drawn first and newer particles are drawn on top of them. Older particles are drawn behind newer ones.</td>
        <td>Newer particles are drawn first and older particles are drawn on top of them. Newer particles are drawn behind older ones.</td>
      </tr>
      <tr>
        <td><img class="center" src="../assets/Images/Scripting_Reference/GML/Reference/Drawing/particles_oldtonew.gif" style="cursor: nesw-resize;"></td>
        <td><img class="center" src="../assets/Images/Scripting_Reference/GML/Reference/Drawing/particles_newtoold.gif"></td>
      </tr>
    </tbody>
  </table>
  <p><strong> 将 GML 复制到剪贴板 </strong> 按钮 <img class="icon" src="../assets/Images/Icons/Icon_GML_To_Clipboard.png"> 将在运行时创建粒子系统所需的 <span data-keyref="GML_Code">GML 代码 </span>( 包括其发射器和粒子类型) 复制到剪贴板。然后可以粘贴该代码以创建外观完全相同的粒子系统。有关详细信息，请参见 <a href="../GameMaker_Language/GML_Reference/Drawing/Particles/Particle_Systems/Particle_Systems.htm#h"> 将 GML 复制到剪贴板 </a>。</p>
  <h3 id="toolbox">工具箱</h3>
  <p>工具箱显示在画布的右上角。</p>
  <p><img class="center" src="../assets/Images/Asset_Editors/Editor_ParticleSystems_Toolbox.png"></p>
  <p>它包含以下内容：</p>
  <ul class="Colour">
    <li><strong>切换网格</strong> <img class="icon" src="../assets/Images/Icons/Icon_CanvasGrid.png">：这将在画布上切换网格。插入符号包含更多选项，如网格大小、启用/禁用对齐网格和网格颜色。</li>
    <li><strong>缩放控件</strong> <img class="icon" height="24" id="" src="../assets/Images/Icons/Icon_CanvasZoom.png" width="120">：放大、重置缩放、缩小、中心适配。</li>
    <li><strong>画布设置</strong> <img class="icon" src="../assets/Images/Icons/Icon_ToggleCanvas.png"><img class="icon" src="../assets/Images/Icons/Icon_CanvasOptions.png">：打开或关闭此处的画布边框，并设置其原点和尺寸 (默认为 1366x768)。您还可以在此处设置背景图像作为参考。</li>
  </ul>
  <h2 id="emitters">发射器</h2>
  <p>可以在粒子系统内创建发射器。一个发射器发射一种类型的粒子。</p>
  <p>发射器有一个区域和一个形状。粒子是在整个发射器区域拉伸的形状内创建的。</p>
  <p><img class="center" src="../assets/Images/Asset_Editors/Editor_ParticleSystems_EmitterList.png"></p>
  <p>默认情况下，粒子系统中的所有发射器都列在画布的左侧。单击<strong>添加</strong><img class="icon" src="../assets/Images/Icons/Icon_AddParticleEmitter.png">以添加新的。单击<strong>删除</strong><img class="icon" src="../assets/Images/Icons/Icon_DeleteParticleEmitter.png">以删除选定的粒子发射器。</p>
  <p>在发射器上单击鼠标右键可以删除、剪切、复制、复制和重命名发射器。</p>
  <p>点击列表中的眼睛图标<img class="icon" src="../assets/Images/Icons/Icon_Eye.png">禁用(暂停)发射器，点击挂锁图标<img class="icon" src="../assets/Images/Icons/Icon_Padlock.png">锁定发射器。锁定可防止更改其任何属性，无论是在画布上还是在<a href="../IDE_Tools/The_Inspector.htm">检查器</a>中。</p>
  <p>使用停靠菜单<img class="icon" src="../assets/Images/Icons/Icon_EmitterDock.png">取消停靠/停靠发射器列表，或更改其在画布周围的位置。</p>
  <h2 id="configuring_an_">配置发射器</h2>
  <p>粒子发射器及其创建的粒子可以在<a href="../IDE_Tools/The_Inspector.htm">检查器</a>中进行完全配置。</p>
  <p>有关配置发射器的详细信息，请参阅：<a href="Particle_System_Properties/Emitter_Properties.htm">发射器属性</a></p>
  <h2 id="h1">共享发射器</h2>
  <p>您创建的发射器可以在&nbsp;<span data-keyref="GameMaker Name">GameMaker</span>&nbsp;项目中的粒子系统资源之间共享。这要求它们在库中另存为<em>预设</em>。</p>
  <p><img class="center" src="../assets/Images/Asset_Editors/Editor_ParticleSystems_Library.png"></p>
  <p><span data-keyref="GameMaker Name">GameMaker</span> 还提供了一些内置的预设选项供您选择。您可以将内置预设加载到发射器中，进行更改并将其保存为新预设。内置预设选项本身无法修改，因此发射器的设置更改时预设将取消链接。</p>
  <p class="note"><span data-conref="../assets/snippets/Tag_note.hts"><span class="note">注意</span></span>&nbsp;共享发射器按项目存储。它们仅在创建它们的项目中可用，不能在不同的项目之间共享。</p>
  <h3 id="creating_a_pres">创建预设</h3>
  <p>在根据您的喜好配置粒子发射器后，单击"库"面板(如上所示)下的<strong>另存为预设</strong><img class="icon" src="../assets/Images/Icons/Icon_ParticleSystem_SavePreset.png">，然后输入新预设的名称：</p>
  <p><img class="center" src="../assets/Images/Asset_Editors/Editor_ParticleSystems_NewPresetPrompt.png">点击"保存"确认将发射器保存为新的预设。</p>
  <p>发射器现在已<em>链接</em>到预设。取消链接后，新预设的名称将显示在"库"面板下，而不是"选择粒子"(或取消链接后发射器的"自定义粒子")。链接/取消链接按钮<img class="icon" src="../assets/Images/Icons/Icon_Link_Unlink_Highlighted.png">也会突出显示，表示此发射器的属性链接到库预设(右侧显示黄色链条图标的所有面板下的属性都链接到预设)。</p>
  <h3 id="linking_an_emit">将发射器链接到预设</h3>
  <p>粒子系统中的发射器可以链接到库中以前创建的发射器预设。若要执行此操作，请单击"库"面板下的"选择粒子"，然后选择要用于该发射器的预设。</p>
  <p>执行此操作将使用选定的预设覆盖发射器的设置。当系统要求确认时，请单击"确定"：&nbsp;</p>
  <p><img class="center" src="../assets/Images/Asset_Editors/Editor_ParticleSystems_ApplyPresetPrompt.png"></p>
  <p>与创建预设一样，链接/取消链接按钮<img class="icon" src="../assets/Images/Icons/Icon_Link_Unlink_Highlighted.png">会突出显示，以指示该发射器的属性已链接到库预设。</p>
  <h3 id="changing_linked">更改链接发射器的属性</h3>
  <p>当您创建发射器预设时，最初会保存"发射器设置"(如分布、形状、区域)。但是，如果在创建预设后更改这些发射器设置，则不会将新设置保存到预设。</p>
  <p>另一方面，发射器的其余属性(如纹理、颜色、寿命、比例等)。无论何时更改，都会保存到预设中。</p>
  <p>修改预设时，该更改将应用于链接到该预设的所有发射器，即使它们位于不同的粒子系统资源中。</p>
  <h3 id="unlinking_an_em">取消发射器与预设的链接</h3>
  <p>单击链接/取消链接按钮<img class="icon" src="../assets/Images/Icons/Icon_Link_Unlink_Highlighted.png">取消发射器与预设的链接。发射器保留从预设获得的属性，但现在可以单独更改这些属性。它们现在存储在发射器本身中，而不是存储在预设中。</p>
  <p>在这种情况下，预设显示"自定义粒子"，以指示它们特定于该发射器。</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div>Back:&nbsp;<a href="The_Asset_Editors.htm">资源编辑器</a></div>
        <div>Next:&nbsp;<a href="Paths.htm">路径编辑器</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5>
  </div>

</div>
  <!-- KEYWORDS
-->
  <!-- TAGS
-->

</body></html>