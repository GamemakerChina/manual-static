<!--?xml version="1.0" encoding="utf-8" ?--><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../../../..";
    gCommonRootRelPath = "../../../..";
    gTopicId = "8.2.2.7.1";
  
//]]></script>

  <script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css">
  <link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css">
  <meta name="topic-status" content="Draft">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Cameras And View Ports</title>
  <meta name="generator" content="Adobe RoboHelp 2022">
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css">
  <script src="../../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander">
  <meta name="topic-comment" content="Reference section for Cameras And View Ports">
  <meta name="rh-index-keywords" content="">
  <meta name="search-keywords" content="Cameras And View Ports,viewports,view ports,views,camera,cameras">
<meta name="brsnext" value="GameMaker_Language/GML_Reference/Cameras_And_Display/Cameras_And_Viewports/camera_create.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Cameras_And_Display/Cameras_And_Display.htm"></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="Cameras And View Ports">
        <span>Cameras And View Ports</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>相机和视口</h1>
  <p>在 <span data-keyref="GameMaker Name">GameMaker</span> 中创建房间时，您需要设置不同的<i>视口</i>和/或<i>相机</i>来控制显示给玩家的内容。基本上，<i>视口</i>是进入游戏世界的小窗口，可以让你显示房间的玩家部分，缩放或1:1，因此，当你的游戏房间比显示大小更大时，它们是必不可少的。<i>相机</i>确切地定义了在每个视图端口中显示的内容。</p>
  <p><span data-keyref="GameMaker Name">GameMaker</span> 允许您使用8个独立的视口(编号为0-7)和无限数量的相机，其中任何时候只能有8个处于<i>活动状态</i>(每个可用端口分配一个)，尽管通常您只需要一个或两个视口。相机可以显示同一房间的不同部分，并且可以随时激活和取消激活以及指定给视口，这意味着您可以使用相机绘制 HUD 元素或具有分割屏幕效果，或者创建剪切场景。实际上，您可以将相机放置在房间内并定义房间可见的"视图"(区域)，然后将此视图绘制到视图<i>端口</i>-请注意，视图端口的大小可能与相机视图的大小不同，因此，如果相机视图的大小与视口的大小不是1:1，则可以扭曲并缩放相机视图。</p>
  <p class="note"><span data-conref="../../../../assets/snippets/Tag_important.hts"><span class="important">重要</span></span>&nbsp;It's easy to get confused when talking about cameras, views and view ports, so to clarify:&nbsp;</p>
  <ul class="colour" style="padding-left:100px">
    <li><b>相机</b>：房间内用于设置房间显示方式的点-通常使用位置、方向、视野和纵横比</li>
    <li><b>视图</b>：相机看到的内容，基于相机的位置、投影和旋转</li>
    <li><b>视口</b>：将显示相机视图的屏幕区域</li>
  </ul>
  <p><img alt="Camera illustration" class="center" src="../../../../assets/Images/Scripting_Reference/GML/Reference/Cameras_Display/Camera_Example.png">If you are adding cameras through <a href="../../../../The_Asset_Editors/Rooms.htm">The Room Editor</a><b></b> then you can retrieve their <i>camera ID</i> value using the <span class="inline2"><a href="view_camera.htm">view_camera</a></span>&nbsp;variable. You can then manipulate the view using the functions below and you can even destroy the default cameras if required, although you will need to assign a new camera to the view otherwise you will get some very unpredictable behaviour. Cameras added to a view port in the Room Editor are <b>global</b> in scope, meaning that they are created once when you start the game, and then as you enter each room they are set to the values set in the Room Editor, so if you destroy a default camera in <i>any</i> room, it will cease to exist for <i>all rooms</i>.</p>
  <p>有关相机和视口的一些注意事项是，游戏第一个房间中<i>所有活动视口的边框总面积</i>是定义<b>背景画布大小</b>(或 MacOS、Ubuntu(Linux) 和 Windows 的窗口大小)的因素，视口未覆盖的任何区域将默认使用下图所示的窗口颜色绘制：</p>
  <p><img alt="View Port Canvas" class="center" src="../../../../assets/Images/Scripting_Reference/GML/Reference/Cameras_Display/viewport_canvas.png"></p>
  <p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;By default you need to select <strong>Clear Display Buffer</strong> in the Room Editor for the colour to be shown, and you can only set the colour using the function <span class="inline3_func"><a href="../The_Game_Window/window_set_colour.htm">window_set_colour</a></span>. If you don't use this function it will default to black.</p>
  <p>You should take care when using multiple cameras as the draw event for all instances is called once for each visible view, so if you have three camera views active in one room, the draw event will be run three times every step (basically doing three times the work) which can be a cause for slowdown if the game is large or complex. The&nbsp;<span class="inline2"><a href="view_current.htm">view_current</a></span>&nbsp;variable can be used to help limit these draw calls however by checking which view is being drawn and only drawing items that are specific to a given view port. Also be careful when creating your own cameras, as if you create one in a room and don't remove it using the&nbsp;<span class="inline3_func"><a href="camera_destroy.htm">camera_destroy</a></span>&nbsp;function you can get a memory leak.</p>
  <p>您可以从下面的不同章节中找到所有可用函数的概述，但值得注意的是，其中一些函数需要设置和使用不同的矩阵，因此您可能需要查看<a href="../../Maths_And_Numbers/Matrix_Functions/Matrix_Functions.htm">矩阵函数</a>手册的章节。另请注意，有一些房间函数可用于获取和设置相机以及查看当前房间之外的房间中的视口值(请参见<span>房间</span>章节)。</p>
  <h2 id="func_ref">Function Reference<a name="camera_general"></a></h2>
  <h3 id="func_ref_create_destroy">Create &amp; Destroy</h3>
  <ul class="colour">
    <li><a href="camera_create.htm">camera_create</a></li>
    <li><a href="camera_create_view.htm">camera_create_view</a></li>
    <li><a href="camera_destroy.htm">camera_destroy</a></li>
    <li><a href="camera_apply.htm">camera_apply</a></li>
    <li><a href="camera_copy_transforms.htm">camera_copy_transforms</a></li>
  </ul>
  <h3 id="func_ref_camera_information">Camera Information</h3>
  <ul class="colour">
    <li><a href="camera_set_view_mat.htm">camera_set_view_mat</a></li>
    <li><a href="camera_set_proj_mat.htm">camera_set_proj_mat</a></li>
    <li><a href="camera_set_update_script.htm">camera_set_update_script</a></li>
    <li><a href="camera_set_begin_script.htm">camera_set_begin_script</a></li>
    <li><a href="camera_set_end_script.htm">camera_set_end_script</a></li>
    <li><a href="camera_set_view_pos.htm">camera_set_view_pos</a></li>
    <li><a href="camera_set_view_size.htm">camera_set_view_size</a></li>
    <li><a href="camera_set_view_speed.htm">camera_set_view_speed</a></li>
    <li><a href="camera_set_view_border.htm">camera_set_view_border</a></li>
    <li><a href="camera_set_view_angle.htm">camera_set_view_angle</a></li>
    <li><a href="camera_set_view_target.htm">camera_set_view_target</a></li>
    <li><a href="camera_set_default.htm">camera_set_default</a></li>
    <li><a href="camera_get_view_mat.htm">camera_get_view_mat</a></li>
    <li><a href="camera_get_proj_mat.htm">camera_get_proj_mat</a></li>
    <li><a href="camera_get_update_script.htm">camera_get_update_script</a></li>
    <li><a href="camera_get_begin_script.htm">camera_get_begin_script</a></li>
    <li><a href="camera_get_end_script.htm">camera_get_end_script</a></li>
    <li><a href="camera_get_view_x.htm">camera_get_view_x</a></li>
    <li><a href="camera_get_view_y.htm">camera_get_view_y</a></li>
    <li><a href="camera_get_view_width.htm">camera_get_view_width</a></li>
    <li><a href="camera_get_view_height.htm">camera_get_view_height</a></li>
    <li><a href="camera_get_view_speed_x.htm">camera_get_view_speed_x</a></li>
    <li><a href="camera_get_view_speed_y.htm">camera_get_view_speed_y</a></li>
    <li><a href="camera_get_view_border_x.htm">camera_get_view_border_x</a></li>
    <li><a href="camera_get_view_border_y.htm">camera_get_view_border_y</a></li>
    <li><a href="camera_get_view_angle.htm">camera_get_view_angle</a></li>
    <li><a href="camera_get_view_target.htm">camera_get_view_target</a></li>
    <li><a href="camera_get_default.htm">camera_get_default</a></li>
    <li><a href="camera_get_active.htm">camera_get_active</a></li>
  </ul>
  <h3 id="func_ref_views">Views</h3>
  <p>When working with cameras, you have to assign them to a <strong>viewport</strong> for them to be "active" and display anything. These view ports are numbered from 0 to 7 and can be changed and positioned using different variable arrays and functions, and you can also check to see which one is currently drawing or which camera is currently attached to it.</p>
  <p>以下<a href="../../../GML_Overview/Variables/Global_Variables.htm">全局范围</a>内置变量可用：</p>
  <ul class="colour">
    <li><a href="view_camera.htm">view_camera</a></li>
    <li><a href="view_current.htm">view_current</a></li>
    <li><a href="view_enabled.htm">view_enabled</a></li>
    <li><a href="view_visible.htm">view_visible</a></li>
    <li><a href="view_xport.htm">view_xport</a></li>
    <li><a href="view_yport.htm">view_yport</a></li>
    <li><a href="view_wport.htm">view_wport</a></li>
    <li><a href="view_hport.htm">view_hport</a></li>
    <li><a href="view_surface_id.htm">view_surface_id</a></li>
  </ul>
  <p id="func_ref_viewports">The following functions are available:&nbsp;</p>
  <ul class="colour">
    <li><a href="view_get_camera.htm">view_get_camera</a></li>
    <li><a href="view_get_visible.htm">view_get_visible</a></li>
    <li><a href="view_get_xport.htm">view_get_xport</a></li>
    <li><a href="view_get_yport.htm">view_get_yport</a></li>
    <li><a href="view_get_wport.htm">view_get_wport</a></li>
    <li><a href="view_get_hport.htm">view_get_hport</a></li>
    <li><a href="view_get_surface_id.htm">view_get_surface_id</a></li>
    <li><a href="view_set_camera.htm">view_set_camera</a></li>
    <li><a href="view_set_visible.htm">view_set_visible</a></li>
    <li><a href="view_set_xport.htm">view_set_xport</a></li>
    <li><a href="view_set_yport.htm">view_set_yport</a></li>
    <li><a href="view_set_wport.htm">view_set_wport</a></li>
    <li><a href="view_set_hport.htm">view_set_hport</a></li>
    <li><a href="view_set_surface_id.htm">view_set_surface_id</a></li>
  </ul>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back:&nbsp;<a href="../Cameras_And_Display.htm">相机及显示</a></div>
        <div style="float:right">Next: <a href="../The_Game_Window/The_Game_Window.htm">游戏窗口</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Cameras And Viewports
-->
  <!-- TAGS
camera_functions
-->

</body></html>