<!--?xml version="1.0" encoding="utf-8" ?--><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../..";
    gCommonRootRelPath = "../..";
    gTopicId = "6.6.0_3";
  
//]]></script>

  <script type="text/javascript" src="../../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css">
  <link rel="stylesheet" type="text/css" href="../../template/Charcoal_Grey/topicheader.css">
  <meta name="topic-status" content="Draft">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>JSDoc Script Comments</title>
  <meta name="generator" content="Adobe RoboHelp 2020">
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css">
  <script src="../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander">
  <meta name="topic-comment" content="Page that explains how JSDoc Script Comments work">
  <meta name="rh-index-keywords" content="Code Editor - JSDoc Comments,JSDoc">
  <meta name="search-keywords" content="JSDoc,JSDoc Comments">
<meta name="brsnext" value="The_Asset_Editors/Code_Editor_Properties/Feather_Data_Types.htm"><meta name="brsprev" value="The_Asset_Editors/Code_Editor_Properties/Feather_Features.htm"></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="JSDoc Script Comments">
        <span>JSDoc Script Comments</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">JSDoc 脚本注释</span></h1>
  <p>如果希望自定义函数具有代码完成功能并在代码编辑器中以特定方式显示所需的参数，则需要添加一些 <a href="https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html">JSDoc 样式 </a> 注释。这些注释用于告诉自动完成功能应如何在 <a href="../Scripts.htm"> 脚本编辑器 </a> 中使用和填写该函数。</p>
  <p class="note"><span data-conref="../../assets/snippets/Tag_tip.hts"><span class="tip"> 提示 </span></span> 您可以使用 <a href="../../Setting_Up_And_Version_Information/IDE_Preferences/Feather_Settings.htm"> 语法检查 </a> 的 <a href="Feather_Features.htm#h1"> 快速修复 </a> 菜单 (按 <img class="icon" height="20" src="../../assets/Images/Icons/Icon_Ctrl.png" width="55">/<img class="icon" height="20" src="../../assets/Images/Icons/Icon_Cmd.png" width="55">+ Q 或单击 <img class="icon" src="../../assets/Images/Icons/Icon_Feather.png"> 图标) 自动生成这些注释。当文本光标放在函数标题(即定义函数名称的行)上时，该选项可见。</p>
  <p>典型函数标题的格式为：函数名称、函数说明，然后是函数所采用的不同参数 (参数) 的列表，确保每行都以 "<span class="inline">///</span>" 三进制斜杠开头，这表示 <span data-keyref="GameMaker Name">GameMaker</span> 将注释解析为 JSDoc 样式。您也可以用 <span class="inline">/**</span>...<span class="inline">*/</span> 封装 JSDoc 注释，<span class="inline">/**</span> 位于自己的行上。</p>
  <p>需要为注释本身指定一个标识符 (前面带有 "<span class="inline">@</span>") 和内容。可用标识符如下：</p>
  <table>
    <colgroup>
      <col style="width: 306px;">
      <col style="width: 488px;">
      <col style="width: 487px;">
    </colgroup>
    <tbody>
      <tr>
        <th>标识符</th>
        <th>内容</th>
        <th>语法</th>
      </tr>
      <tr>
        <td><span class="inline">@function</span> / <span class="inline">@func</span></td>
        <td>The full function name including arguments</td>
        <td><span class="inline">@func my_func(args)</span></td>
      </tr>
      <tr>
        <td><span class="inline">@description</span> / <span class="inline">@desc</span></td>
        <td>A general description of what the function does</td>
        <td><span class="inline">@desc &lt;Description goes&gt;</span></td>
      </tr>
      <tr>
        <td><span class="inline">@param</span>&nbsp;/ <span class="inline">@</span><span class="inline">parameter</span> / <span class="inline">@arg</span> / <span class="inline">@argument</span></td>
        <td>Information on arguments, with an optional <a href="Feather_Data_Types.htm">type</a></td>
        <td><span class="inline">@param <em>{type}</em> name &lt;Parameter description&gt;</span></td>
      </tr>
      <tr>
        <td><span class="inline">@return / @returns</span></td>
        <td><a href="Feather_Data_Types.htm">Type</a> of data the function returns</td>
        <td><span class="inline">@return {type} &lt;Return description&gt;</span></td>
      </tr>
      <tr>
        <th colspan="3"><a href="../../Setting_Up_And_Version_Information/IDE_Preferences/Feather_Settings.htm">语法检查</a>专用</th>
      </tr>
      <tr>
        <td><span class="inline">@pure</span></td>
        <td>Marks the function as&nbsp;<a class="tooltip" title="一个纯函数不会对游戏产生任何影响，也不会创造或改变任何内容。它只返回一个值。给定相同的参数集，它总是返回相同的值。">pure</a></td>
        <td><span class="inline">@pure</span></td>
      </tr>
      <tr>
        <td style=""><span class="inline">@ignore</span></td>
        <td style="">Hides the function from Feather's autocomplete</td>
        <td><span class="inline">@ignore</span></td>
      </tr>
      <tr>
        <td style=""><span class="inline">@deprecated</span></td>
        <td style="">Marks the function as deprecated</td>
        <td><span class="inline">@deprecated</span></td>
      </tr>
      <tr>
        <td style=""><span class="inline">@context / @self</span></td>
        <td style="">Sets the context for the function, which Feather auto-complete uses to provide contextual information. Can be an object or a constructor.</td>
        <td><span class="inline">@self &lt;object&gt;</span></td>
      </tr>
    </tbody>
  </table>
  <p>如果您尚未为参数或返回值指定类型，并且正在使用<a href="../../Setting_Up_And_Version_Information/IDE_Preferences/Feather_Settings.htm">语法检查</a>，则它将根据您的函数体自动为这些参数指定数据类型。</p>
  <p>有关 <span class="inline">@param</span> 和 <span class="inline">@return</span> 的数据类型的信息，请参阅 <a href="Feather_Data_Types.htm"> 语法检查数据类型 </a>。</p>
  <h2>示例</h2>
  <p>要了解在编写自己的函数时如何工作，让我们以下列基本示例为例：</p>
  <p class="code">function is_same_object(_id, _obj)<br>
    {<br>
    &nbsp; &nbsp; if (_id.object_index == _obj)<br>
    &nbsp; &nbsp; {<br>
    &nbsp; &nbsp; &nbsp; &nbsp; return true;<br>
    &nbsp; &nbsp; }<br>
    &nbsp; &nbsp; else return false;<br>
    }</p>
  <p>此脚本执行的所有操作都是检查某个实例是否与给定对象具有相同的 <span class="inline">object_index</span>，并且可以简单地称为：</p>
  <p class="code">if is_same_object(id, obj_Player)<br>
    {<br>
    &nbsp; &nbsp; instance_destroy()<br>
    }</p>
  <p>但是，将其写入代码编辑器将直接显示参数变量名称 (<span class="inline">_id</span> 和 <span class="inline">_obj</span>)，在大多数情况下，这些名称的描述性不强。您可以使用 JSDoc 定义自定义参数名称和说明，以及函数的信息：</p>
  <p class="code">/// @function&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; is_same_object(inst_id, object_id)<br>
    /// @description&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Check if the given instance belongs to the given object.<br>
    /// @param {Id.Instance}&nbsp; &nbsp; &nbsp;inst_id&nbsp; &nbsp; The unique instance ID value of the instance to check.<br>
    /// @param {Asset.GMObject}&nbsp; object_id&nbsp; The object index to be checked against.<br>
    /// @return {Bool}<br>
    <br>
    function is_same_object(_inst_id, _object_id)<br>
    {<br>
    &nbsp; &nbsp; return _inst_id.object_index == _object_id;<br>
    }
  </p>
  <p>现在，在项目中的任何位置调用此函数时，都会看到在 JSDoc 注释中输入的新参数名称：</p>
  <p><img alt="JSDoc Example" class="center" height="652" src="../../assets/Images/Scripting_Reference/Additional_Information/JavaDoc_Example.png" width="672"> 在上图中，顶部显示了自动完成中的功能，底部显示了底部参数帮助器的工作原理。请注意，<span class="inline">@param</span> 的可选 " 类型 " 和必填 " 说明 " 部分默认不会显示在 IDE 代码完成中，要查看它们，必须激活 <a href="../../Setting_Up_And_Version_Information/IDE_Preferences/GML_Code_Preferences.htm">GML 首选项 </a> 中的选项。</p>
  <p>使用<a href="../../Setting_Up_And_Version_Information/IDE_Preferences/Feather_Settings.htm">语法检查</a>时，将鼠标悬停在该函数上方时，将会看到有关该函数的详细信息：</p>
  <p><img class="center" src="../../assets/Images/Asset_Editors/JSDoc_Feather_Info.png">您可以用<span class="inline">[]</span>括号括起参数名称，以表明它是可选的。然后，代码编辑器将期望在最小必需参数和参数总数之间有任意数量的参数。</p>
  <p>例如，请参见以下函数：</p>
  <p class="code">/// @function&nbsp;&nbsp; &nbsp;animate_position(end_x, end_y, start_x, start_y)<br>
    /// @desc&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Animates the instance to ending point, from optional starting point<br>
    /// @arg end_x<br>
    /// @arg end_y<br>
    /// @arg [start_x]<br>
    /// @arg [start_y]<br>
    <br>
    function animate_position (x1, y1, x2, y2)<br>
    {<br>
    &nbsp;&nbsp; &nbsp;// Function code<br>
    }
  </p>
  <p><span class="inline">start_x</span> 和 <span class="inline">start_y</span> 参数被标记为可选，这意味着代码编辑器现在需要 2 到 4 个参数，如警告消息中所示：</p>
  <p><img class="center" height="150" src="../../assets/Images/Scripting_Reference/Additional_Information/JavaDoc_Optional.png" width="537"></p>
  <p class="note"><span data-conref="../../assets/snippets/Tag_note.hts"><span class="note">注意</span></span> 如果在函数声明中使用可选参数，将获得相同的行为。有关详细信息，请参阅<a href="../../GameMaker_Language/GML_Overview/Script_Functions.htm">脚本函数</a>。</p>
  <p>由于脚本中可以包含多个函数，因此可以在脚本声明之前为每个脚本添加 JSDoc 注释：</p>
  <p><img alt="Multiple Functions With JSDoc Comments Example" class="center" src="../../assets/Images/Scripting_Reference/Additional_Information/JavaDoc_MultipleFunctions.png"></p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="../Scripts.htm">The Script Editor</a></div>
        <div style="float:right">Next:&nbsp;<a href="Feather_Data_Types.htm">语法检查数据类型</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
JSDoc Script Comments
-->
  <!-- TAGS
jsdoc_comments
-->

</body></html>