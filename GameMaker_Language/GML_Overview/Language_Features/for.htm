<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.1.3.0_4"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>for</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../assets/css/default.css" type="text/css"><script src="../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page outlining the for function"><meta name="rh-index-keywords" content="for"><meta name="search-keywords" content="for"><meta name="brsnext" value="GameMaker_Language/GML_Overview/Language_Features/switch.htm"><meta name="brsprev" value="GameMaker_Language/GML_Overview/Language_Features/do___until.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="for"><span>for</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">for</span></h1><p>对<a class="tooltip" title="在编程中，语句是用编程语言合法编写的单行代码，表示要执行的操作。语句可能具有自己的内部组件，包括表达式，运算符和函数。语句的一个示例是A = B +5。GameMakerStudio 2程序不过是一系列一起执行任务（如移动玩家）的一个或多个语句的序列。">语句</a>(或语句)进行多次迭代的最常用方法之一是对<span class="inline2">循环使用</span>，其形式如下：</p><p class="code">for (&lt;assignment&gt;; &lt;expression&gt;; &lt;operation&gt;;)<br>{<br>&nbsp; &nbsp; &lt;statement&gt;;<br>&nbsp; &nbsp; &lt;statement&gt;;<br>&nbsp; &nbsp; ...<br>}</p><p>其工作原理如下 - 首先执行赋值操作，将值赋给变量，然后计算<a class="tooltip" title="表达式是一个或多个常量，变量，运算符和/或函数的组合，这些常量根据特定的优先级和关联规则进行解释以返回另一个值。一个简单的表达式是（5 + 5），它返回10。">表达式</a>，如果为<span class="inline2">true</span>，则执行大括号<span class="inline2">{ }</span>中的语句被处决。接下来，对分配的变量执行运算，然后再次计算表达式。此循环将继续下去，直到发现表达式为<span class="inline2">false</span>。</p><p>现在，这样写可能听起来很复杂，但你应该把它解释为。</p><ol><li>第一个赋值初始化 for 循环</li><li>测试循环表达式是否应结束 (语法中 expression)</li><li>执行语句 ({}内语句 statement)</li><li>执行运算 (语法中 operation)</li><li>返回步骤2并再次执行表达式，然后继续或退出循环</li></ol><p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">注意</span></span>您可以在赋值部分使用<span class="inline2">var</span>语句来初始化多个变量。请参阅<a href="../Variables/Local_Variables.htm">局部变量</a>。</p><p>这对于执行以任何其他方式涉及多行代码的重复任务非常有用，并且通常用作评估数组、绘制事物、设置增量值等的计数器。以下代码示例说明了此方法的典型用途声明类型：</p><p class="code">for (var i = 0; i &lt; 10; i += 1)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;draw_text(32, 32 + (i * 32), string(i) + ". "+ string(scr[i]));<br>}</p><p>上面的代码初始化了一个<span class="inline2">for</span>循环，从0开始，一直数到(包括)9，然后使用<span class="inline2">i</span>的循环值，在屏幕上画出存储在数组中的数值。请注意<span class="inline2">for</span>循环变量<span class="inline2">i</span>是如何被用于不仅循环数组，而且绘制数字以及告诉<span data-keyref="GameMaker Name">GameMaker</span>在房间里把数值画到哪里。这种灵活性是<span class="inline2">for</span>循环在编程中如此重要的主要原因之一。</p><p><strong>什么时候应该使用<span class="inline">for</span>循环？</strong>任何时候，你需要对一条或多条语句执行固定数量的迭代，同时跟踪当前正在运行的<a class="tooltip" title="迭代是对项目代码中的一组操作的一次遍历。计算机编程中一种迭代形式是通过循环。循环将重复一段代码，直到满足条件为止，然后循环可以继续进行。每次计算机运行一个循环，就称为迭代。简单来说，迭代是一遍又一遍地重复执行特定代码段以执行特定操作的过程。">迭代</a>，并使用该迭代值。</p><p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">注意</span></span>在与其他人合作时，您将看到多个关于循环计数器变量使用变量<span class="inline2">i</span>和<span class="inline2">j</span>的示例。这些<b>不是</b>强制变量名称，您可以使用<span class="inline2">a</span>或<span class="inline2">foo</span>等名称。<span class="inline2">i</span>和<span class="inline2">j</span>的使用只是编程中的标准约定。</p><p>值得注意的是，您也可以在<span class="inline2">for</span>循环中使用特殊的<span class="inline2"><a href="break.htm">break</a></span>和<span class="inline2"><a href="continue.htm">continue</a></span>语句。使用<span class="inline2">break</span>将立即退出循环，并在循环结束后继续执行事件或函数中的任何代码，例如：</p><p class="code">var _inst =&nbsp;noone;<br>for (var i = 0; i &lt; 10; i += 1)<br>{<br>&nbsp; &nbsp; _inst = instance_find(obj_Enemy_Parent, i);<br>&nbsp; &nbsp; if (instance_exists(_inst))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (_inst.object_index == obj_Enemy_Melee)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>}<br>target = _inst;</p><p>上述代码循环遍历给定"父"对象的 10 个最近的实例，如果找到实例，则检查实例对象 ID，如果它是<span class="inline2">obj_Enemy_Melee</span>的实例，则使用结束循环<span class="inline2"><a href="break.htm">break</a></span>以及分配给变量的 ID 值(如果未找到实例，则关键字<span class="inline2"><span class="inline"><a href="../Instance_Keywords.htm">noone</a></span></span>将添加到变量中)。</p><p>在<span class="inline2">for</span>循环中使用<span class="inline2">continue</span>的一个例子是:</p><p class="code">var _val = 0;<br>for (var i = 0; i &lt; 10; i += 1)<br>{<br>&nbsp; &nbsp; if (val_array[i] &lt;=&nbsp;0)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; continue;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; _val += val_array[i];<br>}<br>draw_text(32, 32, "Positive Values Total = " + string(_val));</p><p>这段代码将检查存储在长度为10的1D&nbsp;<a href="../Arrays.htm">数组</a>的每个数组位置中的值，如果其中任何值小于或等于0，它将<span class="inline2">继续</span>循环，这意味着当前迭代将结束，<span class="inline2">i</span>将递增，并开始下一个循环迭代。如果该值大于0，则将其添加到本地变量<span class="inline2">_val</span>中，在循环完成后，将总值绘制到屏幕上。</p><p>有关循环关键字的更多示例，请参阅<span class="inline2"><a href="repeat.htm">repeat</a></span>、<span class="inline2"><a href="while.htm">while</a></span>和<span class="inline2"><a href="do___until.htm">do / until</a></span>部分。</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="../Language_Features.htm">Language&nbsp;Features</a></div><div style="float:right">Next: <a href="switch.htm">switch</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>