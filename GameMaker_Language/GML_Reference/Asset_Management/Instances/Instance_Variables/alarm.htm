<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.3.13.1.0_7"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>alarm</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page outlining the variable alarm"><meta name="rh-index-keywords" content="alarm"><meta name="search-keywords" content="alarm"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Instances/Instance_Variables/direction.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Instances/Instance_Variables/layer.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="alarm"><span>alarm</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">alarm</span></h1><p>此一维 <a href="../../../../GML_Overview/Arrays.htm">数组</a> 用于获取实例可能具有的任何警报的当前值，或者可用于设置这些警报。对象的每个实例中内置有 12 个警报，每个警报都有自己的 <a href="../../../../../The_Asset_Editors/Object_Properties/Object_Events.htm">事件</a> ，该事件将在该变量达到 0 时运行。</p><p>警报会在每个步骤开始时、Begin Step 事件 <strong>之后</strong> 但主 Step 事件 <strong>之前</strong> 以及为帧渲染任何内容之前进行倒计时。这意味着，如果您在 Begin Step 事件中将闹钟设置为 <span class="inline2">1</span>，则其事件将在同一帧中运行 (因为在 Begin Step 完成后闹钟将倒计时至 0)，但如果您设置在 Step 事件中将警报设置为 <span class="inline2">1</span>，它将在下一帧中运行。</p><p>需要注意的是，当闹钟到达 0 时 (尽管事件已经被触发)，闹钟还没有结束，下一步它会下降到 -1，所以如果你出于任何原因需要停止闹钟，你应该设置它的数组值设置为 -1 <i>不是</i> 0。闹钟时间以 <i>游戏步数</i> 计算，值 30 表示 30 步，60 表示 60 步，依此类推。</p><p class="note"><span data-conref="../../../../../assets/snippets/Tag_note.hts"><span class="note">注意</span></span> 没有任何操作或代码的警报将不会运行。然而，即使只有注释而没有代码，警报也会倒计时。</p><p>您可以直接设置警报数组 (也可以直接使用数组获取当前警报值)，但在某些情况下这不是最合适的方法，因此您也可以使用函数 <span class="inline3_func"><a href="../alarm_set.htm">alarm_set</a></span> 设置闹钟，函数 <span class="inline3_func"><a href="../alarm_get.htm">alarm_get</a></span> 获取闹钟值。</p><div data-conref="../../../../../assets/snippets/GML_Not_real_array.hts"><p class="note"><span data-conref="../../../../../assets/snippets/Tag_note.hts"><span class="note">注意</span></span> 此变量不保存真正的 GML 数组，因此您无法对其运行任何 <a href="../../../Variable_Functions/Array_Functions.htm">数组函数</a> 或对其进行序列化 (将其转换为字符串)。您可以对其运行的唯一操作是使用 <span class="inline2"><span data-field="title" data-format="default">alarm</span>[index]</span> 语法访问索引处的值。</p></div><p>&nbsp;</p><h4>语法:</h4><p class="code"><span data-field="title" data-format="default">alarm</span>[index]</p><p>&nbsp;</p><h4>返回:</h4><p class="code"><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span> (-1 if the alarm isn't running)</p><p>&nbsp;</p><h4>例子:</h4><p class="code">if (canshoot)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;if (keyboard_check_pressed(vk_space))<br>&nbsp; &nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canshoot = false;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alarm[0] = game_get_speed(gamespeed_fps);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instance_create_layer(x, y, "Bullets", obj_Bullet);<br>&nbsp; &nbsp; }<br>}</p><p>上面的代码检查一个变量，然后如果它为真，则检查按键，如果它为真，则最终将变量设置为假，设置警报(其中它将再次设置为真)并创建一个实例。</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Instance_Variables.htm">实例变量</a></div><div style="float:right">Next: <a href="direction.htm">direction</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>