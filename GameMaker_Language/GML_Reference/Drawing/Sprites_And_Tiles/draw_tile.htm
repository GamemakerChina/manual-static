<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.6.5.0_15"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>draw_tile</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Reference page for draw_tile"><meta name="rh-index-keywords" content="draw_tile,tile_rotate,tile_mirror,tile_flip,tile_index_mask"><meta name="search-keywords" content="draw_tile,tile_rotate,tile_mirror,tile_flip,tile_index_mask"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_tilemap.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_get_swf_aa_level.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="draw_tile"><span>draw_tile</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>draw_tile</h1><p>使用此函数，您可以从图块集中绘制任何给定的图块-与旋转、翻转和镜像竞争-设置帧(如果已设置动画)和房间内的位置。区块集Id值是IdE中设置的区块集索引，区块数据是包含有关区块索引和已应用的转换的所有信息的数据"斑点"。您可以使用函数<a href="../../Asset_Management/Rooms/Tile_Map_Layers/tilemap_get.htm"><span class="inline">tilemap_get()</span></a>获取图块数据，然后可以使用<a href="../../Asset_Management/Rooms/Tile_Map_Layers/Tile_Map_Layers.htm">图块函数</a>操作这些数据，也可以使用以下图块常量以及要创建的图块的索引值自行构造该数据：</p><table><tbody><tr><th>常量</th><th>描述</th></tr><tr><td><span class="inline">tile_rotate</span></td><td>Used to set/get the rotate bit of a tile data blob.</td></tr><tr><td><span class="inline">tile_mirror</span></td><td>Used to set/get the mirror bit of a tile data blob.</td></tr><tr><td><span class="inline">tile_flip</span></td><td>Used to set/get the flip bit of a tile data blob.</td></tr><tr><td><span class="inline">tile_index_mask</span></td><td>A special constant that is for "and"-ing with the tile data blob to extract the tile index.</td></tr></tbody></table><p><br>要获得最终的图块数据，可以使用图块索引值按位""或以下常量：</p><p class="code">var tiledata = 8 | tile_rotate | tile_flip;</p><p>上述代码只需创建一个局部变量，即可将索引为8的互动程序的互动程序数据存储在互动程序集上，并进行旋转和翻转。然后，可以使用此选项从指定的分幅集中在该索引处绘制分幅。此选项不会链接到任何分幅图层，并且将在执行绘制的实例的图层深度处、在房间中指定的x/ y位置处绘制分幅。请注意，也可以设置要绘制的框架。如果索引互动程序是动画集的一部分，则可以在此处设置帧编号(从0到帧数-1)，索引互动程序将只是指示您正在使用哪个动画互动程序集，而它将是绘制的给定帧。如果图块不是动画集的一部分，则帧应设置为0。</p><p>&nbsp;</p><h4>语法:</h4><p class="code">draw_tile(tileset, tiledata, frame, x, y)</p><table><tbody><tr><th>参数</th><th>类型</th><th>描述</th></tr><tr><td>tileset</td><td><span data-keyref="Type_Asset_Tile_Set"><a target="_blank" href="../../../../The_Asset_Editors/Tile_Sets.htm">Tile Set Asset</a></span></td><td>要使用的分幅集的ID</td></tr><tr><td>tiledata</td><td><span data-keyref="Type_Real_Tile_Data"><a target="_blank" href="../../Asset_Management/Rooms/Tile_Map_Layers/tilemap_get.htm">Tile Data</a></span></td><td>要使用的图块数据</td></tr><tr><td>frame</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>要使用的动画互动程序的帧编号(非动画互动程序的默认值为0)</td></tr><tr><td>x</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>房间内要绘制的x位置</td></tr><tr><td>y</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>房间内要绘制的y位置</td></tr></tbody></table><p>&nbsp;</p><h4>返回:</h4><p class="code"><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">Real</a></span></p><p>&nbsp;</p><h4>例子:</h4><p class="code">var lay_id = layer_get_id("Tiles_sky");<br>var map_id = layer_tilemap_get_id(lay_id);<br>var data = tilemap_get(map_id, 0, 0);<br>tile_set_flip(data, true);<br>draw_tile(set_Wall, data, 0, x, y);</p><p>上述代码将从给定的图块图获取图块图上的数据，然后设置"翻转"标志，并使用该数据绘制在实例位置翻转的图块图。</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Sprites_And_Tiles.htm">精灵和 Tiles</a></div><div style="float:right">Next: <a href="draw_tilemap.htm">draw_tilemap</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>