<!--?xml version="1.0" encoding="utf-8" ?--><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../../../..";
    gCommonRootRelPath = "../../../..";
    gTopicId = "8.2.2.6.8.0_5";
  
//]]></script>

  <script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css">
  <link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css">
  <meta name="topic-status" content="Draft">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>surface_set_target</title>
  <meta name="generator" content="Adobe RoboHelp 2022">
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css">
  <script src="../../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander">
  <meta name="topic-comment" content="Reference for surface_set_target">
  <meta name="rh-index-keywords" content="surface_set_target">
  <meta name="search-keywords" content="surface_set_target">
<meta name="brsnext" value="GameMaker_Language/GML_Reference/Drawing/Surfaces/surface_set_target_ext.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Drawing/Surfaces/surface_resize.htm"></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="surface_set_target">
        <span>surface_set_target</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1 id="h"><span data-field="title" data-format="default">surface_set_target</span></h1>
  <p>With this function you set all further drawing to the target surface rather than the screen and in this way you can tell <span data-keyref="GameMaker Name">GameMaker</span> to only draw specific things to the specified surface.</p>
  <p>Please note that if you do not call <span class="inline3_func"><a href="surface_reset_target.htm#h">surface_reset_target</a></span>&nbsp;after you have finished, nothing will be drawn on the screen as all further drawing (even in other instances) will be done on the surface. You should also realise that nothing will be seen if the surface itself is not drawn on the screen in the draw event of an instance. You can check the return value of this function too as a debug tool to check whether the surface target was set or not, with a return value of 0 being a failure to set the target and any other positive value being a success.</p>
  <p>需要注意的一点是，表面是<i>层叠的</i>，因此不能从一个目标跳到另一个目标，然后在结束时重置为法线绘制目标，而是必须打开并关闭渲染目标。例如，这将导致<b>无法正常工作：</b></p>
  <p class="code">surface_set_target(surf1);<br>
    draw_text(32, 32, "surface1");<br>
    surface_set_target(surf2);<br>
    draw_text(32, 64, "surface2");<br>
    surface_reset_target();</p>
  <p>相反，必须为所设置的每个表面重置目标，就像必须对代码块使用左括号和右括号{}一样。因此，上面的内容应该写成以下两种情况：</p>
  <p class="code">surface_set_target(surf1);<br>
    draw_text(32, 32, "surface1");<br>
    surface_reset_target();<br>
    surface_set_target(surf2);<br>
    draw_text(32, 64, "surface2");<br>
    surface_reset_target();</p>
  <p>or as this:</p>
  <p class="code">surface_set_target(surf1);<br>
    draw_text(32, 32, "surface1");<br>
    surface_set_target(surf2);<br>
    draw_text(32, 64, "surface2");<br>
    surface_reset_target();<br>
    surface_reset_target();</p>
  <div data-conref="../../../../assets/snippets/Note_Surface_Check_That_It_Exists.hts">
  <p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;If you have not previously set a render target with the function <span class="inline3_func"><a href="#h">surface_set_target</a></span>,&nbsp;using this function will silently (i.e.&nbsp;without any error messages) end all further code execution for the event.</p>

</div>
  <p>&nbsp;</p>
  <h4>语法:</h4>
  <p class="code"><span data-field="title" data-format="default">surface_set_target</span>(surface_id);</p>
  <table>
    <tbody>
      <tr>
        <th>参数</th>
        <th>类型</th>
        <th>描述</th>
      </tr>
      <tr>
        <td>surface_id</td>
        <td><span data-keyref="Type_ID_Surface"><a target="_blank" href="../../../../../GameMaker_Language/GML_Reference/Drawing/Surfaces/surface_create.htm">Surface ID</a></span></td>
        <td>要设置为绘制目标的表面的ID。</td>
      </tr>
    </tbody>
  </table>
  <p>&nbsp;</p>
  <h4>返回:</h4>
  <p class="code"><span data-keyref="Type_Bool"><a target="_blank" href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm">Boolean</a></span>&nbsp;Whether the render target was set successfully</p>
  <p>&nbsp;</p>
  <h4>例子:</h4>
  <p class="code">if view_current = 0<br>
    {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;surface_set_target(surf);<br>
    &nbsp;&nbsp;&nbsp;&nbsp;with (obj_Effect)<br>
    &nbsp; &nbsp; {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;draw_self();<br>
    &nbsp; &nbsp; }<br>
    &nbsp;&nbsp;&nbsp;&nbsp;surface_reset_target();<br>
    }<br>
    else<br>
    {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;draw_surface(surf, 0, 0);<br>
    }</p>
  <p>上述代码将检查当前正在绘制的视图，如果是view[ 0 ]，则会将绘制目标设置为表面，并在再次重置绘制目标之前绘制对象"obj_Effect"的所有实例。如果视图不是视图[ 0 ]，则将表面绘制到屏幕上。</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="Surfaces.htm">表面</a></div>
        <div style="float:right">Next:&nbsp;<a href="surface_set_target_ext.htm">surface_set_target_ext</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
surface_set_target
-->
  <!-- TAGS
surface_set_target
-->

</body></html>