<!--?xml version="1.0" encoding="utf-8" ?--><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../../..";
    gCommonRootRelPath = "../../..";
    gTopicId = "8.2.2.15";
  
//]]></script>

  <script type="text/javascript" src="../../../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../../../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../../../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../../../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css">
  <link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css">
  <meta name="topic-status" content="Draft">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Networking</title>
  <meta name="generator" content="Adobe RoboHelp 2022">
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css">
  <script src="../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander">
  <meta name="topic-comment" content="Reference section for the Networking  functions">
  <meta name="rh-index-keywords" content="">
  <meta name="search-keywords" content="Networking">
<meta name="brsnext" value="GameMaker_Language/GML_Reference/Networking/network_create_server.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asynchronous_Functions/Facebook/Facebook.htm"></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="Networking">
        <span>Networking</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">Networking</span></h1>
  <p><span data-keyref="GameMaker Name">GameMaker</span>网络函数基于<i>套接字</i>，这是所有平台上的行业标准。使用套接字，您可以使用简单的 GML 创建客户端和服务器，这允许您使用客户端/服务器模型创建单个玩家游戏(这将允许稍后轻松添加多人游戏)。</p>
  <p>Basically, a socket is an object which can send, receive, connect and listen to <i>ports</i> on the network. These functions deal with just TCP/IP connections, which is what the internet is based on. In essence this lets you connect one socket using an IP address (let's say 192.168.1.10) to another socket on another IP address (say 192.168.1.11). Once connected, these two sockets can send data back and forth using the <span class="inline2">network_send_*</span>&nbsp;functions (like <span class="inline3_func"><a href="network_send_packet.htm">network_send_packet</a></span>) and the dedicated asynchronous event that is triggered by them. This async event will generate a <a href="../Data_Structures/DS_Maps/DS_Maps.htm">DS map</a> containing the data received as well as other details, and you can find the complete details in the section on the <a href="../../../The_Asset_Editors/Object_Properties/Async_Events/Networking.htm">Network Async Event</a>.</p>
  <p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note"> 注意</span></span>GameMaker 在除 Nintendo Switch、PlayStation 4 和 PlayStation 5 之外的所有平台上支持 IPv4 和 IPv6 地址。</p>
  <p>与程序必须读取和处理进入计算机的每一位网络流量不同，IP地址还处理从0到65535的端口。这允许每个程序只获得它感兴趣的数据包，而不是每个程序发送的所有数据。这还节省了大量Cpu时间，因为它严重减少了数据处理，因此使用<span data-keyref="GameMaker Name">GameMaker</span>，您还可以"侦听"端口。因此，服务器将创建一个套接字，然后将其绑定到要侦听的特定端口。然后，它将收到来自该套接字的连接、断开连接和数据传输的通知。</p>
  <p>数据 "packets" 本身由从缓冲器获取的二进制数据组成。可以使用 <span data-keyref="GameMaker Name">GameMaker</span><a href="../Buffers/Buffers.htm">Buffer</a> 系列函数创建和操作此缓冲区。</p>
  <p>值得注意的是，如果您要为 HTML5 目标创建项目，那么由于浏览器限制，您将无法使用服务器创建功能，并且必须使用 <strong>Electron</strong> 或 <strong>NodeJS</strong>。另请注意，如果您的游戏是跨平台的，并且您预计从移动或桌面设备上运行的服务器连接到游戏的 HTML5 实例，那么您的服务器只能使用 Web Socket 协议 (这是使用常量 <span class="inline">network_socket_ws</span> 或 <span class="inline">network_socket_wss</span> 完成 - 请参阅 <span class="inline3_func"><a href="network_create_server.htm">network_create_server</a></span> 了解更多信息)。这意味着您的服务器可能必须在不同端口上创建两个套接字，一个用于连接到非 HTML5 目标 (Android、Windows 等)，另一个用于连接到 HTML5 目标。</p>
  <h2>原始函数</h2>
  <p>用于创建套接字、连接到服务器和发送数据的函数有原始的替代方案，您可以在下面的列表中看到。</p>
  <p>Packets/requests sent through regular networking functions (e.g.&nbsp;<span class="inline3_func"><a href="network_connect.htm">network_connect</a></span>) include additional data inserted by GameMaker, so only GameMaker games can talk to each other.</p>
  <p>原始函数 (例如 <span class="inline3_func"><a href="network_connect_raw.htm">network_connect_raw</a></span>) 用于与非 GameMaker 服务器 / 客户端连接，例如如果你想连接到用 JavaScript、PHP 等编写的服务器。</p>
  <p><span data-conref="../../../assets/snippets/Networking_dont_mix_raw_reg.hts"> 您不得在游戏中混合使用常规函数和原始函数，因为这样做会导致问题。这意味着，对于使用 <span class="inline3_func"><a href="network_connect.htm" title="Cross-reference [network_connect.htm]" data-tcx-title="Cross-reference [network_connect.htm]">network_connect</a></span> 建立的连接，您必须使用 <span class="inline3_func"><a href="network_send_packet.htm" title="Cross-reference [network_send_packet.htm]" data-tcx-title="Cross-reference [network_send_packet.htm]">network_send_packet</a></span>，而对于 <span class="inline3_func"><a href="network_connect_raw.htm" title="Cross-reference [network_connect_raw.htm]" data-tcx-title="Cross-reference [network_connect_raw.htm]">network_connect_raw</a></span>，则必须使用 <span class="inline3_func"><a href="network_send_raw.htm" title="Cross-reference [network_send_raw.htm]" data-tcx-title="Cross-reference [network_send_raw.htm]">network_send_raw</a></span>.</span></p>
  <h2 id="func_ref">功能参考</h2>
  <ul class="colour">
    <li><a href="network_create_server.htm">network_create_server</a></li>
    <li><a href="network_create_server_raw.htm">network_create_server_raw </a></li>
    <li><a href="network_create_socket.htm">network_create_socket</a></li>
    <li><a href="network_create_socket_ext.htm">network_create_socket_ext</a></li>
    <li><a href="network_connect.htm">network_connect</a></li>
    <li><a href="network_connect_async.htm">network_connect_async</a></li>
    <li><a href="network_connect_raw.htm">network_connect_raw</a></li>
    <li><a href="network_connect_raw_async.htm">network_connect_raw_async</a></li>
    <li><a href="network_resolve.htm">network_resolve</a></li>
    <li><a href="network_set_config.htm">network_set_config</a></li>
    <li><a href="network_set_timeout.htm">network_set_timeout</a></li>
    <li><a href="network_send_broadcast.htm">network_send_broadcast</a></li>
    <li><a href="network_send_packet.htm">network_send_packet</a></li>
    <li><a href="network_send_raw.htm">network_send_raw</a></li>
    <li><a href="network_send_udp.htm">network_send_udp</a></li>
    <li><a href="network_send_udp_raw.htm">network_send_udp_raw</a></li>
    <li><a href="network_destroy.htm">network_destroy</a></li>
  </ul>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="../GML_Reference.htm">GML Reference</a></div>
        <div style="float:right">Next:&nbsp;<a data-condition="Export:StableOnly" href="../Web_And_HTML5/Web_And_HTML5.htm">Web 和 HTML5</a>&nbsp;</div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Networking
-->
  <!-- TAGS
networking_functions
-->

</body></html>