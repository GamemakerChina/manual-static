<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../..",gTopicId="6.8.0_3"</script><script type="text/javascript" src="../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="Adobe RoboHelp 2022"><title>Non-Bitmap Sprites</title><meta name="topic-status" content="Draft"><link rel="stylesheet" type="text/css" href="../../assets/css/default.css"><script src="../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Section explaining non-bitmap sprites in GameMaker"><meta name="search-keywords" content="SWF,Spine,skeleton animation,vector sprites"><meta name="rh-index-keywords" content="Texture Goups - Non-Bitmap Sprites,SWF,Spine"><meta name="brsnext" value="The_Asset_Editors/Tile_Sets.htm"><meta name="brsprev" value="The_Asset_Editors/Sprite_Properties/Sprite_Strips.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Non-Bitmap Sprites"><span>Non-Bitmap Sprites</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">Non-Bitmap Sprites</span></h1><p><span data-keyref="GameMaker Name">GameMaker</span> 支持非<a class="tooltip" title="位图是用于描述任何静态图像的术语，该静态图像由以位存储的彩色像素组成（与使用数学算法存储的矢量图像不同）。 PNG，JPG和BMP是位图图像的示例，而SWF将是矢量图像的示例。">位图</a>精灵，其形式为<a class="tooltip" title="向量是一种数学结构，它有大小和方向。在GameMaker中，矢量通常用来显示物体移动的距离和方向。矢量还可以用来定义图像，SWF等特定图像格式使用矢量数学来定义它们所包含的图像。">矢量</a> <span class="inline">SWF</span> 文件或 <strong>Spine 骨骼动画</strong>文件。这两种格式各有利弊，下面的两节介绍了如何将它们导入到<a href="../../The_Asset_Editors/Sprites.htm">精灵编辑器</a>中，并介绍了一些有关如何绘制它们的信息。</p><p>请注意，可以导入 SVG，但它们在导入时会转换为位图。</p><h2 id="h1">骨骼动画精灵(Spine)</h2><p>使用骨骼动画制作的精灵是其中已创建基础"骨骼"并使用关键帧设置动画以随时间移动骨骼的组件部分的精灵。然后从<a class="tooltip" title="纹理页面的另一个名称，它只是游戏中一个或多个精灵所需的图像集合，以一种最佳方式进行组织，以使用尽可能少的纹理内存。">纹理图集</a>中蒙皮该骨骼，并以多种文件类型之一导出生成的动画。<span data-keyref="GameMaker Name">GameMaker</span>允许您导入此类精灵，只要它已导出为<span class="inline">*.json</span>格式的文件，并且在同一目录<em>中具有正确关联的纹理图集文件(<span class="inline">*.atlas</span>)和图像文件(作为<span class="inline">*.png</span>)</em>。</p><p><img alt="Spine UI" class="center" src="../../assets/Images/Settings/Spine_Example.png">当前 <span data-keyref="GameMaker Name">GameMaker</span> 只能<strong>从程序 <a href="http://esotericsoftware.com/">Spine</a></strong> 生成的 JSON 格式文件中导入矢量图像，但是将它们导入程序的方法与添加普通位图图像的方法几乎相同。要添加骨骼动画，您需要创建新的精灵，这将打开标准的<strong>加载精灵</strong>对话框，只需在此处确保已从底部的文件筛选器中选择了 <span class="inline">*.json</span>：</p><p><img alt="Import Spine Sprite" class="center" src="../../assets/Images/Settings/Spine_Import.png"></p><p>单击"加载"按钮将骨骼动画作为精灵添加到<a href="../../Introduction/The_Asset_Browser.htm">资源浏览器</a>，并在处理文件时显示进度条。请注意，根据文件的复杂性，这可能需要一两分钟的时间。处理完成后，您将返回到精灵属性对话框，现在显示如下：</p><p><img alt="Spine SPrite In The Sprite Editor" class="center" src="../../assets/Images/Settings/Spine_OptionsDisabled.png">导入动画后，可以设置碰撞属性，但请注意，此处仅限于使用精确碰撞或边界框碰撞，并且骨骼动画的碰撞数据显式取自提供的数据。<span data-keyref="GameMaker Name">如果导入的文件中缺少数据，GameMaker</span>将不会生成任何冲突掩码，这意味着如果在用于创建正在导入的图像的程序中未正确设置掩码，则不会发生工作冲突。</p><p class="note"><span class="note">注意</span>由于骨骼动画的复杂性，sprite编辑器中显示的预览图像不是为了准确地表示动画，而是为您提供表示动画的简单图像，以便在房间编辑器中可视化。</p><p>与位图精灵不同，导入的骨骼动画精灵 <strong>无法在编辑器</strong> 中以任何方式进行修改，但 GameMaker 语言 (GML) 中有许多可用的函数，这些函数可用于更改外观、设置属性以及控制动画的其他方面。也不能为精灵设置任何纹理选项，因为 GameMaker 将使用由生成精灵的程序生成的提供的纹理图集。</p><p>在导入骨骼动画精灵时，有许多事情需要注意，其中最重要的是，由于技术原因，某些精灵绘制和精灵管理功能不受支持，特别是那些仅绘制精灵部分的绘制功能，或者以某种方式"倾斜"位置(有关详细信息，请参见个人<a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/Sprites_And_Tiles.htm"><span class="inline">draw_sprite_*()</span></a>功能)。但是，基本的精灵绘制功能和内置的精灵变量都是完全支持的。除了这些函数和变量之外，还可以使用<span class="inline">特殊</span>skeleton_*<a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Skeletal_Animation/Skeletal_Animation.htm">函数设置和更改动画属性，这些函数在</a>骨骼动画{}的参考部分中列出并说明。</p><h2 id="h">矢量精灵(SWF)</h2><p>一般来说，<span data-field="title" data-format="default">非位图精灵</span>中的所有精灵都使用位图，尽管位图在内容方面很灵活，但在内存使用变得过高之前，它会对精灵中可能的帧的大小和数量进行限制。矢量精灵通过以不同的方式存储和绘制其内容来解决这些限制：像素网格在缩放时可能会变得块状或模糊，而不是像素网格，而是使用矢量数学将它们绘制为三角形，并且可以在不失去清晰度的情况下放大(或缩小)，如下图所示：</p><p><img alt="Vector And Bitmap Sprite Comparison" class="center" src="../../assets/Images/Settings/Vector_Compare.png">为了帮助您直观了解如何完成此操作，下面的图像只是同一矢量的Fireman 精灵，现在我们可以在<span data-keyref="GameMaker Name">GameMaker</span>中查看用于制作图像的多边形：</p><p><img alt="Polygons Of A Vector Sprite" class="center" src="../../assets/Images/Settings/Vector_Polys.png">但是，对于编程游戏来说，没有什么是绝对自由的，矢量精灵的权衡比位图精灵的绘制成本更高，并且随着导入的动画的复杂性增加，这种速度差异也会增加。此外，与位图精灵不同，它们的内存使用受到视觉复杂性的影响。考虑到这一点，它们确实能够以使用传统位图精灵不可能实现的方式添加大型动画图形。</p><p>在性能方程的另一面，因为矢量精灵只绘制绝对需要的像素(不像位图精灵也"绘制"图像周围的空白)，所以从Gpu的角度来看，它们可以更便宜。此外，在一般情况下，向量精灵远小于其等效位图-对于上面的消防员示例，各种精灵类型的大小如下所示：</p><p class="code">Bitmap at 70x68 = 4x70x68 bytes x 12 frames = 223k<br>Vector = 54k</p><p>如果将精灵的分辨率提高两倍：</p><p class="code">Bitmap at 280x272 = 4x280x272 bytes x 12 frames = 3570k<br>Vector = 54k</p><p>因此，正如您可以看到的那样，使用矢量精灵可以潜在地节省大量内存，而且我们在未来的空间节省方面仍然有很大的潜力。</p><p><span data-keyref="GameMaker Name">GameMaker</span>目前对矢量精灵的<em>支持</em>有限。并且只能从<span class="inline">SWF</span>格式文件导入矢量图像。将它们导入程序的方式几乎与添加普通位图图像的方式相同。若要添加矢量精灵，请创建新的精灵，这将打开标准的"加载精灵"对话框，但请确保已从底部的文件筛选器中选择了<span class="inline">*.swf</span>。</p><p><img alt="Import Vector Image" class="center" src="../../assets/Images/Settings/Import_Vector.png" style="cursor:nwse-resize">单击"加载"按钮将向量图像或动画添加到<a href="../../Introduction/The_Asset_Browser.htm">资源浏览器</a>，并在处理文件时显示进度条。请注意，根据文件的复杂程度，这可能需要一段时间(对于更复杂的动画，最多需要一分钟)。处理完成后，您将返回到精灵属性对话框，现在显示如下：</p><p><img alt="Disabled Texture Settings" class="center" src="../../assets/Images/Settings/Vector_Spine_Disabled_Options.png">精灵编辑器不会有太多更改，但现在<strong>编辑图像</strong>&nbsp;；按钮已灰显，无法单击，因为在这种精灵中没有任何位图可供编辑。其次，除纹理组外，所有纹理选项都已灰显。</p><p class="note"><span class="note">注意</span>图像在所选预览编辑器中的外观与在游戏中的外观不同，也不同于在sprite编辑器的预览窗口中的外观。矢量图像将以创建时的大小导入，该大小不一定是预览显示时的大小(例如，浏览器通常会缩放图像以适应图像大小)。</p><p>"精灵编辑器"(Sprite Editor)的另一个功能是，我们可以设置矢量精灵的<em>质量</em>通过使用顶部的<strong>SWF精度</strong>滑块绘制矢量精灵。这将简单地减少或增加用于生成精灵的三角形的数量-大多数游戏通常情况下，大约50%的值就足够了-但是，如果使用极端缩放或存在性能问题，则应使用此值进行实验。</p><p>在导入矢量精灵时，有许多事情需要注意，最重要的是，由于技术原因，某些sprite绘制和sprite管理功能不受支持，特别是那些仅绘制精灵的一部分的绘制功能，或者以某种方式"倾斜"位置的绘制功能(有关详细信息，请参见个人<a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/Sprites_And_Tiles.htm"><span class="inline">draw_sprite_*()</span></a>功能)。但是，基本的精灵绘制功能和内置的精灵变量都是完全支持的。我们可以为正在绘制的SWF精灵设置不同的<a class="tooltip" title="这是一种通过将边缘的颜色与周围像素的颜色混合来平滑锯齿状线条或纹理的技术。根据效果的强度，结果应该是更令人愉悦和逼真的外观。">抗锯齿</a>(AA)值通过使用函数<span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_enable_swf_aa.htm">draw_enable_swf_aa()</a></span>,<span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_get_swf_aa_level.htm">draw_get_swf_aa_level()</a></span>或<span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_set_swf_aa_level.htm">draw_set_swf_a_level()</a></span></p><p>您还应注意以下事项：</p><ul class="colour"><li>导入<span class="inline">*.SWF</span>文件时，<em>不</em>支持Actionscript，因此如果您的SWF依赖它来正常工作，则可能无法正常工作。同样，任何具有自己的时间轴的嵌入式影片剪辑在整个动画中将只显示其第一帧-所有动画都必须位于主时间轴上。</li><li>如果矢量文件具有特别精细的细节，您可能偶尔会发现在生成的精灵中会出现孔或奇怪的三角形。这是因为在小比例尺下，几何体有时会塌陷在一起，以创建只是不能很好地三角剖分的形状。在这种情况下，您有两个选项-您可以放大矢量文件的内容，这将给导入器更多的播放空间，或者您可以尝试减少正在破坏的对象中的细节级别。</li><li><span data-keyref="GameMaker Name">GameMaker</span>使用SWF的载物台大小作为产生的精灵的边界。但是，如果舞台上有任何超出这些界限的内容，则仍会绘制该内容。这意味着，如果不希望显示任何内容，则应尽量避免将其置于舞台边界之外，或者使用遮罩层将绘制限制在此区域。</li><li>载物台大小还会影响生成的任何碰撞遮罩的大小，因此，如果在动画中具有较大的载物台大小和大量帧，则可能会占用大量内存。因此，只有在真正需要的时候才使用精确的碰撞面具。</li><li>由于SWF文件是从多个图层创建的，其中一些图层可能会重叠，因此Alpha的工作方式与使用位图精灵的方式不太相同-重叠区域看起来不会像精灵的其他部分那样透明，因为那里的像素正在多次绘制。</li><li><em>支持位图填充</em>，但如果将图块位图填充用作SWF文件的一部分，则需要确保位图的大小为二的倍数，否则将无法正确图块。也支持文本渲染，但您需要将字体嵌入到SWF文件中，以便在生成的精灵中显示该字体。此外，当前仅支持左对齐的单行文本。</li></ul><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back:&nbsp;<a href="../../The_Asset_Editors/Sprites.htm">The Sprite Editor</a></div><div style="float:right">Next:&nbsp;<a href="../../The_Asset_Editors/Sprite_Properties/Nine_Slices.htm">九宫格</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>