<!--?xml version="1.0" encoding="utf-8" ?--><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../..";
    gCommonRootRelPath = "../..";
    gTopicId = "6.5.0_2";
  
//]]></script>

  <script type="text/javascript" src="../../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css">
  <link rel="stylesheet" type="text/css" href="../../template/Charcoal_Grey/topicheader.css">
  <meta name="topic-status" content="Draft">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Room Properties</title>
  <meta name="generator" content="Adobe RoboHelp 2020">
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css">
  <script src="../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander">
  <meta name="topic-comment" content="Page detailing the different room properties">
  <meta name="rh-index-keywords" content="Rooms - Room Settings">
  <meta name="search-keywords" content="room settings,cameras,viewports,room size,room properties,view cameras">
<meta name="brsnext" value="The_Asset_Editors/Room_Properties/Room_Inheritance.htm"><meta name="brsprev" value="The_Asset_Editors/Room_Properties/Layer_Properties.htm"></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="Room Properties">
        <span>Room Properties</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>房间属性</h1>
  <p><img alt="Room Editor Properties" class="center" src="../../assets/Images/Asset_Editors/Editor_Room_RoomSettings.png">在房间属性部分，您可以设置设置的继承切换，以及更改持久性、房间大小和管理视区等选项。当您在<a href="../../Introduction/The_Asset_Browser.htm">资源浏览器</a>中选择房间资源时，这是可见的。</p>
  <h2>持续</h2>
  <p>通常，当您离开房间并稍后返回同一房间时，该房间将被重置为其初始设置。这通常适用于大多数游戏，但它可能不是你想要的，例如，RPG或任何非线性游戏，在这些游戏中，你想在房间之间来回穿梭，让它们保持上次离开时的样子。选中标记为<strong>持续</strong>的框就可以做到这一点。房间状态将被记住，当您稍后返回它时，它将与您离开它时完全相同，只有在游戏重新开始时才会重新设置为开始状态。请注意，这有<em>一个</em>例外--如果您将某些对象标记为永久对象，则此对象的实例将<em>不会</em>留在房间中，而会移动到下一个房间。</p>
  <h2 id="clear_display_buffer">清除显示缓冲区</h2>
  <p>之后，您可以选择<strong>清除显示缓冲区</strong>。如果选中此选项，则在为特定帧绘制任何其他内容之前，会使用颜色预先填充<a class="tooltip" title="显示缓冲区是最终绘制所有内容的“画布”。一些事件直接针对此事件（例如Pre Draw事件），而另一些事件将首先绘制到应用程序表面，然后将其绘制到显示缓冲区。">显示缓冲区</a>。如果你知道你的视窗将一直覆盖整个屏幕，或者你有一个全屏的，不透明的背景被绘制，那么你可以取消选中这个选项，这样可以节省重画，从而帮助优化你的游戏。</p>
  <p>但是，如果您有多个视图，当屏幕上留有空白处，或者您的背景有透明部分时-您可以选中此选项，以便使用您选择的绘制颜色填充任何空白区域。&nbsp;目前，此颜色只能通过代码使用<a href="../../GameMaker_Language/GML_Reference/Cameras_And_Display/The_Game_Window/window_set_colour.htm"><span class="inline">window_set_color()</span></a>进行设置。</p>
  <p>有关清除视图，请参阅<a href="#clear_view">清除视窗背景</a>。</p>
  <p class="note"><span class="note">注意</span>：如果您使用的是自动宽高比校正(如在<a href="../../Settings/Game_Options.htm">游戏选项</a>中设置的)，则应<strong>始终</strong>选中此选项，否则您可能会在游戏所在的"信箱"上获得奇怪的效果。如果你不使用这个选项，那么你可以取消选中这个选项，并对你的游戏性能进行小幅提升(特别是在Android和其他移动平台上尤其明显)。</p>
  <h2>宽度、高度和其他选项</h2>
  <p>房间必须有大小，这是由您为其宽度和高度输入的值(以像素为单位)定义的。</p>
  <p>然后，如果需要，您可以添加<strong><a id="Room_Creation_Code"></a>房间创建代码</strong>。创建代码是从底部的按钮添加的(与继承切换一起，表示房间是否应该继承它的创建代码)，如果您单击它，您将打开一个代码或可视化编辑器。通过该编辑器，您可以输入在房间开始时、所有实例的创建事件之后、房间<em>开始</em>事件之前运行的函数/动作和代码(有关事件顺序的更多信息，请参阅<a href="../Object_Properties/Event_Order.htm">此处</a>)。此代码将在您每次进入房间时运行，除非房间被标记为持久的，在这种情况下，它将只在第一次进入房间时运行一次，而不是在以后访问房间时运行。</p>
  <h2 id="creation_order">实例创建顺序</h2>
  <p>房间属性中的最后一个按钮允许您打开<strong>实例创建顺序</strong>窗口：</p>
  <p><img alt="Instance Creation Order Window" class="center" src="../../assets/Images/Asset_Editors/Editor_Room_CreationOrder.png">此窗口按照创建的顺序(从上到下)列出房间中的所有实例。如果您需要在创建任何其他实例之前创建特定实例，只需单击<img alt="LMB Icon" class="icon" src="../../assets/Images/Icons/Icon_LMB.png">&nbsp;并将其拖动到您需要的位置即可。请注意，实例将按照列表从上到下的顺序创建。</p>
  <div data-conref="../../assets/snippets/Instance_creation_order_warning.hts">
  <p class="note"><span class="note">NOTE</span>&nbsp;房间中的实例是按照一定的 <a href="#creation_order"> 顺序 </a> 创建的，其创建事件也是在逐个创建的过程中执行的。这意味着在从创建事件中的其他实例读取变量时必须小心，因为其他实例可能还没有运行其创建事件！<br><br> 例如：假设在 <strong>ObjectB</strong> 之前创建了 <strong>ObjectA</strong>，并且在这些对象的创建事件中有以下代码：<br><br><strong>ObjectA </strong>Create -<span class="inline2">myValue=objectB.myValue;</span><br><strong>ObjectB </strong>Create -<span class="inline2">myValue=10;</span><br><br> 首先创建对象 A，然后运行它的创建事件，这会使游戏崩溃：<br><br><em><strong>" 在读取变量 objectB.myValue(100003, -2147483648) 之前未进行设置。"。</strong></em><br><br> 这很简单，因为 ObjectB 甚至还没有创建，所以在它的创建事件中初始化的任何变量都不存在。这就是为什么在创建事件中引用其他实例时必须格外小心，包括在 <span class="inline"><a href="../../GameMaker_Language/GML_Overview/Language_Features/with.htm">with()</a></span> 块内运行的任何代码。</p>

</div>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <h1>摄影机和视口</h1>
  <p>您可以为房间定义的下一组属性是与房间<strong>相机</strong>和<strong>视口</strong>.&nbsp;相机视图相关的属性，这些属性提供了一种机制，用于在屏幕上的不同位置绘制房间的不同部分，或仅绘制房间的一部分以覆盖整个屏幕。例如，在大多数平台游戏中，相机视图跟随主要角色，因为如果你可以在屏幕上看到整个关卡，你的角色会太小而看不到，对玩家来说不会有任何惊喜。摄像机视图也可以用于多人游戏或合作游戏，因为它们允许您创建一个分屏设置，在屏幕的一个部分可以看到一个玩家，在另一个部分可以看到另一个玩家。这一切都可以在使用摄像头视图的<span data-keyref="GameMaker Name">GameMaker</span>中轻松实现。</p>
  <p><img alt="Camera And Viewport Properties" class="center" src="../../assets/Images/Asset_Editors/Editor_Room_RoomViews.png">在视图属性的顶部，您可以打开或关闭视图继承，然后会有一个标记为<strong>启用视窗</strong>的框。必须先标记此<em>，然后才能在游戏中使用任何相机视图。</em></p>
  <p class="note"><span class="note">注意</span>：您可以打开或关闭三个主要视区设置的继承，然后打开或关闭每个单独相机视图的继承。</p>
  <p><a id="clear_view"></a>下一个复选框显示<strong>清除视区背景</strong>，这类似于上面给出的<a href="#clear_display_buffer">清除显示缓冲区</a>选项，只是专门针对视区。启用后，它会在绘制每个帧之前用窗口颜色清除<a class="tooltip" title="应用程序表面是一种特殊的内置表面，GameMaker Studio 2将在游戏的“绘制事件”中将所有内容绘制到该表面（表面实际上是为图形保留的内存区域）。然后这个表面被绘制到每个游戏帧末尾的显示缓冲区，向玩家显示它的内容。">应用程序表面</a>。这可确保您不会通过背景中的透明区域看到任何意外的图形，例如任何先前帧的内容。如果您的背景包含任何透明度，启用此选项(以及"<strong>启用视窗</strong>")是很重要的。</p>
  <p>摄像机视图由两组不同的值定义，摄像机视图本身和屏幕上绘制该视图的端口。这有时会导致混淆，所以在解释如何定义它们之前，让我们先解释一下：</p>
  <ul class="colour">
    <li><strong>摄像头</strong>：房间内的一个点，用于设置房间在屏幕上的显示方式(这是房间编辑器中的一个抽象点，它的位置是根据查看和查看端口设置自动设置的)</li>
    <li><strong>视图</strong>：基于摄像头的位置、投影和旋转，摄像头看到的内容</li>
    <li><strong>视口</strong>：显示摄像头视图的物理屏幕区域</li>
  </ul>
  <p><img alt="Camera View Example" class="center" src="../../assets/Images/Asset_Editors/Camera_Example.png"> 例如，这意味着您可以在房间中设置 640x480 摄像头视图，然后将端口设置为 320x240，这将在屏幕上显示缩小到该大小的端口的视图，您也可以执行相同的操作，将视图设置为较小的值，并将端口设置为较大，以使图像缩放到适合端口大小，并在屏幕上显示得更大。这样，您可以在更改相机视图的同时保持屏幕 (端口) 大小，以在屏幕的同一区域显示或多或少的房间。</p>
  <p>摄像机视图始终定义为房间中的一个矩形区域，您可以在其中指定左上角的位置、该区域的宽度和高度。然后，您必须通过定义视区来指定此区域在屏幕窗口中的显示位置，并再次在其中指定左上角的位置和大小 (请注意，左上角不是 0，0 的任何值都可能产生奇怪的结果)。您可以有多个端口，并且它们可以重叠，在这种情况下，它们将按指定的顺序一个在另一个的上方绘制。</p>
  <p>请注意，整个屏幕区域<em>始终定义为矩形区域</em>，因此您的端口即使在偏移时也会形成一个矩形，任何空白区域都将由<a class="tooltip" title="显示缓冲区是最终绘制所有内容的“画布”。一些事件直接针对此事件（例如Pre Draw事件），而另一些事件将首先绘制到应用程序表面，然后将其绘制到显示缓冲区。">显示缓冲区</a>的窗口颜色填充，这意味着在这些情况下，您应该始终选中<strong>清除显示缓冲区</strong>，否则您将在端口之间的空间中绘制奇怪的人工制品。下图说明了这一点，其中有两个可见的偏移视图口，但它们形成了一个正方形窗口，并且在其下面绘制了到显示缓冲区的线：</p>
  <p><img alt="Object Editor Post Draw" class="center" src="../../assets/Images/Asset_Editors/Editor_Object_PostDraw.png">相机也有<strong>对象跟随</strong>选项。这适用于当你想让相机“跟随”(即：保持聚焦于)某个对象的时候。为此，您必须单击菜单图标上的<img alt="LMB Icon" class="icon" src="../../assets/Images/Icons/Icon_LMB.png">&nbsp;；并从弹出的列表中选择一个对象(如果房间中有该对象的多个实例，则摄像机只跟在其中一个实例后面)。</p>
  <p>摄影机的正常行为是，只有当被跟踪的实例太靠近在视图边缘形成不可见边界的"缓冲区"时才移动。您可以使用<strong>水平边框</strong>和<strong>垂直边框</strong>值来定义该区域，因此，例如，将这些值设置为64将意味着，在距离视图边缘达到64像素之前，视图不会开始移动和跟随字符。</p>
  <p>最后，您可以指示角色到达缓冲区时摄影机移动的<strong>水平</strong>和<strong>垂直速度</strong>，其默认值为-1。这个缺省值基本上是"瞬时"的，意味着当下面的实例超出水平边框或垂直边框缓冲区时，视图将跳到其当前位置。现在，这并不总是您想要的，因此您可以通过将值设置为-1以外的值来设置相机的垂直和水平滚动速度。请注意，值为0将导致视图完全不移动，任何其他正值都是它将在任何帧中移动的像素数，因此将水平速度设置为5将使视图以每帧5像素的水平方向跟随对象。</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <h1>房间物理</h1>
  <p>在您的游戏中使用内置物理功能之前，您必须告诉 <span data-keyref="GameMaker Name">GameMaker</span> 该房间是一个物理室。为此，您必须勾选 <strong> 房间物理 </strong> 部分顶部的 <em> 启用物理 </em> 选项 (您也可以独立于其他房间设置切换此部分的继承)。完成此操作后，您可以继续设置物理世界属性，这些属性是一些基本属性，您必须先预定义这些属性，然后您的房间才能允许物理实例按此方式工作。为了更精确地控制世界，你可以使用代码 (有关更多信息，请参阅 <a href="../../GameMaker_Language/GML_Reference/Physics/Physics.htm"> 物理函数 </a>)。</p>
  <p><img alt="Room Physics Properties" class="center" src="../../assets/Images/Asset_Editors/Editor_Room_RoomPhysics.png">你必须做的下一件事就是设置这个世界的<strong>重力</strong>。其强度和方向计算为围绕(0，0)点设置的x/y位置的<a class="tooltip" title="向量是一种数学结构，它有大小和方向。在GameMaker中，矢量通常用来显示物体移动的距离和方向。矢量还可以用来定义图像，SWF等特定图像格式使用矢量数学来定义它们所包含的图像。">向量</a>。因此，x为0，y为1，将重力方向设置为<em>向下</em>，力为每秒1米(有关更详细的解释，请参阅<a href="../../GameMaker_Language/GML_Reference/Physics/The_Physics_World/The_Physics_World.htm">物理世界</a>)。</p>
  <p>最后，您必须为 <strong>GameMaker</strong> 设置 <span data-keyref="GameMaker Name"> 像素与米</span>的比率，以用作其所有物理计算的基础。这是因为物理函数适用于真实世界的测量，这就是我们必须设置此值的原因，您需要调整此设置，直到您正在使用的对象的平均像素大小大致转换为适当大小的模拟物理对象。</p>
  <p>需要注意的是，在房间中启用物理意味着房间中所有启用物理的实例都<em>必须使用物理函数和变量来移动</em>。基本上，你有"传统的"移动，你可以设置一个实例的X/Y位置或设置它的速度和方向，然后你就有了"物理"移动，它需要物理力和脉冲来四处移动。这些系统是<strong>互不相关的</strong>，您不能使用非物理函数移动物理实例，也不能使用物理函数移动非物理实例。</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="../Rooms.htm">The Room Editor</a></div>
        <div style="float:right">Next: <a href="Room_Inheritance.htm">房间继承</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Room Properties
View Ports
View Cameras
-->
  <!-- TAGS
rooms_properties
-->

</body></html>