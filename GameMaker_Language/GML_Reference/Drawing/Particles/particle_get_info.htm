<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../..",gTopicId="8.2.2.6.10.0_6"</script><script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>particle_get_info</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" type="text/css" href="../../../../assets/css/default.css"><script src="../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content=""><meta name="topic-comment" content=""><meta name="rh-index-keywords" content="particle_get_info,ps_mode_stream,ps_mode_burst"><meta name="search-keywords" content="particle_get_info,ps_mode_stream,ps_mode_burst"><meta name="template" content="assets/masterpages/Manual_Keyword_Page.htt"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Drawing/Particles/Particle_Systems/Particle_Systems.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Drawing/Particles/effect_clear.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="particle_get_info"><span>particle_get_info</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">particle_get_info</span></h1><p>此函数返回<a href="../../../GML_Overview/Structs.htm#struct">结构</a>，其中包含有关使用<a href="../../../../The_Asset_Editors/Particle_Systems.htm">粒子系统编辑器</a>创建的<span data-keyref="Type_Asset_ParticleSystem"><a target="_blank" href="../../../../The_Asset_Editors/Particle_Systems.htm">粒子系统资源</a></span>的信息。</p><p>返回的结构是一个<span data-keyref="Type_Struct_PartSystem_Info"><a target="_blank" href="#particle_system_info_struct">粒子系统信息结构</a></span>，其中包含一个由<a href="../../../GML_Overview/Arrays.htm"></a>粒子发射器信息结构<span data-keyref="Type_Struct_PartEmitter_Info"><a target="_blank" href="#particle_emitter_info_struct">组成的</a>数组</span>。这些发射器结构中的每个结构都存储有关发射器在其<span class="inline2">parttype</span>变量中使用的粒子类型的信息，该变量包含一个<span data-keyref="Type_Struct_PartType_Info"><a target="_blank" href="#particle_type_info_struct">粒子类型信息结构</a></span>。</p><p class="note"><span data-conref="../../../../assets/snippets/Tag_warning.hts"><span class="warning">警告</span></span>如果没有向函数传递有效的<span data-keyref="Type_Asset_ParticleSystem"><a target="_blank" href="../../../../The_Asset_Editors/Particle_Systems.htm">粒子系统资源</a></span>，<span data-keyref="GameMaker Name">GameMaker</span>将抛出错误。</p><p>简而言之，该函数返回的结构内容如下所示：</p><p class="code">part_sys_info_struct =<br>{<br>&nbsp; &nbsp; emitters:<br>&nbsp; &nbsp; [<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parttype:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Particle type properties...<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // All&nbsp;other particle emitter properties...<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; // More emitters...<br>&nbsp; &nbsp; ]<br>&nbsp; &nbsp; // All other particle system properties...<br>};</p><p>下表列出了这三个结构中每个结构中可用的所有变量。</p><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#"><span data-open-text="true" data-skip-index="true">粒子系统信息</span><span data-close-text="true">粒子系统信息</span></a></p><div class="droptext" data-targetname="drop-down"><table id="particle_system_info_struct" style="caption-side:top" class="cke_show_border"><caption>粒子系统信息结构</caption><colgroup><col style="width:33.33%"><col style="width:33.33%"><col style="width:33.33%"></colgroup><tbody><tr><th>变量名</th><th>数据类型</th><th>描述</th></tr><tr><td><span class="inline">name</span></td><td><span data-keyref="Type_String"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">字符串</a></span></td><td>粒子系统资源的名称。</td></tr><tr><td><span class="inline">xorigin</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>粒子系统的 X 原点。</td></tr><tr><td><span class="inline">yorigin</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>粒子系统的 Y 原点。</td></tr><tr><td><span class="inline">global_space</span></td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">布尔值</a></span></td><td>此粒子系统是否启用了全局空间粒子(请参见<span class="inline3_func"><a href="Particle_Systems/part_system_global_space.htm">part_system_global_space</a></span>)。</td></tr><tr><td><span class="inline">oldtonew</span></td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">布尔值</a></span></td><td>旧粒子是否应该画在新粒子后面 (<span class="inline2">true</span>) 还是不应该 (<span class="inline2">false</span>)。</td></tr><tr><td><span class="inline">emitters</span></td><td><span data-keyref="Type_Array"><a target="_blank" href="../../../GML_Overview/Arrays.htm">Array</a></span>&nbsp;of&nbsp;<span data-keyref="Type_Struct_PartEmitter_Info"><a target="_blank" href="#particle_emitter_info_struct">Particle Emitter Info Struct</a></span></td><td>发射器信息结构数组，顺序与<a href="../../../../The_Asset_Editors/Particle_Systems.htm">粒子系统编辑器</a>中的相同。</td></tr></tbody></table></div><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#"><span data-open-text="true" data-skip-index="true">粒子发射器信息</span><span data-close-text="true">粒子发射器信息</span></a></p><div class="droptext" data-targetname="drop-down1"><table id="particle_emitter_info_struct" style="caption-side:top" class="cke_show_border"><caption id="">粒子发射器信息<span id="particle_emitter_info_struct"></span>结构</caption><colgroup><col style="width:33.33%"><col style="width:33.33%"><col style="width:33.33%"></colgroup><tbody><tr><th>变量名</th><th>数据类型</th><th>描述</th></tr><tr><td><span class="inline">name</span></td><td><span data-keyref="Type_String"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">字符串</a></span></td><td>发射器的名称。</td></tr><tr><td><span class="inline">mode</span></td><td><span data-keyref="Type_Constant_PartEmitter_Mode"><a target="_blank" href="#particle_emitter_mode_constant">粒子发射器模式常量</a></span></td><td>发射粒子的模式。可以是 <span class="inline2">ps_mode_stream</span> 或 <span class="inline2">ps_mode_burst</span>。</td></tr><tr><td><span class="inline">enabled</span></td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">布尔值</a></span></td><td>是否启用粒子发射器。</td></tr><tr><td><span class="inline">number</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>如果<span class="inline2">mode</span>为<span class="inline2">ps_mode_stream</span>，则为每帧创建的粒子数;如果mode为<span class="inline2">ps_mode_burst</span>，则为仅创建一次的粒子数。相对模式下的密度(覆盖百分比)。</td></tr><tr><td><span class="inline">relative</span></td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">布尔值</a></span></td><td>发射器是否处于相对模式，其中发射器创建的粒子数与其区域的面积相关(请参见<span class="inline3_func"><a href="Particle_Emitters/part_emitter_relative.htm">part_emitter_relative</a></span>)。</td></tr><tr><td><span class="inline">xmin</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>发射器区域左侧的 X 坐标。</td></tr><tr><td><span class="inline">xmax</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>发射器区域右侧的 X 坐标。</td></tr><tr><td><span class="inline">ymin</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>发射器区域顶部的 Y 坐标。</td></tr><tr><td><span class="inline">ymax</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>发射器区域底部的 Y 坐标。</td></tr><tr><td><span class="inline">distribution</span></td><td><span data-keyref="Type_Constant_PartEmitter_Distr"><a target="_blank" href="Particle_Emitters/part_emitter_region.htm">粒子发射器分布常量</a></span></td><td>粒子的分布样式。<span class="inline2">ps_distr_*</span>常量之一。</td></tr><tr><td><span class="inline">shape</span></td><td><span data-keyref="Type_Constant_PartEmitter_Region_Shape"><a target="_blank" href="Particle_Emitters/part_emitter_region.htm">粒子发射器形状常量</a></span></td><td>发射器区域的形状。<span class="inline2">ps_shape_*</span>常量之一。</td></tr><tr><td><span class="inline">parttype</span></td><td><span data-keyref="Type_Struct_PartType_Info"><a target="_blank" href="#particle_type_info_struct">粒子类型信息结构</a></span></td><td>粒子类型信息结构，包含此发射器的粒子类型信息。</td></tr><tr><td><span class="inline">delay_min</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>流模式下粒子爆发之间的最小延迟，以<span class="inline2">delay_unit</span>表示。</td></tr><tr><td><span class="inline">delay_max</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>流模式下粒子爆发之间的最大延迟，以<span class="inline2">delay_unit</span>表示。</td></tr><tr><td><span class="inline">delay_unit</span></td><td><span data-keyref="Type_Constant_TimeSource_Unit"><a target="_blank" href="../../Time_Sources/Time_Source_Units.htm">时间源单位常数</a></span></td><td>表示<span class="inline2">delay_min</span>和<span class="inline2">delay_max</span>的单位</td></tr><tr><td><span class="inline">interval_min</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>流模式下粒子爆发之间的最短时间，以<span class="inline2">interval_unit</span>表示。</td></tr><tr><td><span class="inline">interval_max</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>流模式下粒子爆发之间的最大时间，以<span class="inline2">interval_unit</span>表示。</td></tr><tr><td><span class="inline">interval_unit</span></td><td><span data-keyref="Type_Constant_TimeSource_Unit"><a target="_blank" href="../../Time_Sources/Time_Source_Units.htm">时间源单位常数</a></span></td><td>表示<span class="inline2">interval_min</span>和<span class="inline2">interval_max</span>的单位。</td></tr></tbody></table></div><p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down2" href="#"><span data-open-text="true" data-skip-index="true">粒子类型信息</span><span data-close-text="true">粒子类型信息</span></a></p><div class="droptext" data-targetname="drop-down2"><table id="particle_type_info_struct" style="caption-side:top" class="cke_show_border"><caption>粒子类型信息结构</caption><colgroup><col style="width:33.33%"><col style="width:33.33%"><col style="width:33.33%"></colgroup><tbody><tr><th>变量名</th><th>数据类型</th><th>描述</th></tr><tr><th colspan="3">通用</th></tr><tr><td><span class="inline">ind</span></td><td><span data-keyref="Type_ID_PartType"><a target="_blank" href="Particle_Types/part_type_create.htm">粒子类型 ID</a></span></td><td>粒子类型的索引。这可以与函数 <span class="inline3_func"><a href="Particle_Systems/part_particles_create.htm">part_particles_create</a></span> 一起使用。</td></tr><tr><th colspan="3">形状/精灵</th></tr><tr><td><span class="inline">sprite</span></td><td><span data-keyref="Type_Asset_Sprite"><a target="_blank" href="../../../../The_Asset_Editors/Sprites.htm">Sprite Asset</a></span></td><td>粒子类型使用的精灵的索引或 <span class="inline2">-1</span>。</td></tr><tr><td><span class="inline">frame</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>如果使用了精灵，则为精灵子图像。</td></tr><tr><td><span class="inline">animate</span></td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">布尔值</a></span></td><td>如果为 <span class="inline2">true</span>，则从 <span class="inline2">frame</span> 子图像开始设置精灵动画。</td></tr><tr><td><span class="inline">stretch</span></td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">布尔值</a></span></td><td>如果为 <span class="inline2">true</span>，则动画将在粒子的整个生命周期内拉伸。</td></tr><tr><td><span class="inline">random</span></td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">布尔值</a></span></td><td>如果为 <span class="inline2">true</span>，则使用随机子图像而不是 <span class="inline2">frame</span>。</td></tr><tr><td><span class="inline">shape</span></td><td><span data-keyref="Type_Constant_Part_Shape"><a target="_blank" href="Particle_Types/part_type_shape.htm">粒子形状常数</a></span></td><td>粒子形状。<span class="inline2">pt_shape_*</span> 常量之一。仅当子画面为 <span class="inline2">-1</span> 时使用。</td></tr><tr><th colspan="3">大小</th></tr><tr><td><span class="inline">size_xmin</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>此类型的粒子在创建时在X轴上可以具有的最小尺寸(每个粒子的尺寸随机确定，并且可以在<span class="inline2">size_xmin</span>到<span class="inline2">size_xmax</span>之间变化)。</td></tr><tr><td><span class="inline">size_ymin</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>创建此类型的粒子时，该粒子在Y轴上可以具有的最小尺寸(该尺寸是为每个粒子随机确定的，可以在<span class="inline2">size_ymin</span>到<span class="inline2">size_ymax</span>之间变化)。</td></tr><tr><td><span class="inline">size_xmax</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>创建此类型的粒子时，该粒子在X轴上可以具有的最大大小(每个粒子的大小是随机确定的，可以在<span class="inline2">size_xmin</span>到<span class="inline2">size_xmax</span>之间变化)。</td></tr><tr><td><span class="inline">size_ymax</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>创建此类型的粒子时，该粒子在Y轴上可以具有的最大大小(每个粒子的大小是随机确定的，可以在<span class="inline2">size_ymin</span>到<span class="inline2">size_ymax</span>之间变化)。</td></tr><tr><td><span class="inline">size_xincr</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>每帧增加/减少X轴上的粒子大小的值。</td></tr><tr><td><span class="inline">size_yincr</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>每帧增加/减少Y轴上的粒子大小的值。</td></tr><tr><td><span class="inline">size_xwiggle</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>每帧从粒子的X大小随机添加或减去的值。</td></tr><tr><td><span class="inline">size_ywiggle</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>每个帧从粒子的Y大小中随机添加或减去的值。</td></tr><tr><th colspan="3">比例</th></tr><tr><td><span class="inline">xscale</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>粒子图像的 X 比例 (精灵或形状)。</td></tr><tr><td><span class="inline">yscale</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>粒子图像的 Y 比例 (精灵或形状)。</td></tr><tr><th colspan="3">生命周期</th></tr><tr><td><span class="inline">life_min</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>此类型粒子的最小寿命(以帧数为单位)。</td></tr><tr><td><span class="inline">life_max</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>此类型粒子的最大寿命(以帧数为单位)。</td></tr><tr><th colspan="3">二次粒子</th></tr><tr><td><span class="inline">death_type</span></td><td><span data-keyref="Type_ID_PartType"><a target="_blank" href="Particle_Types/part_type_create.htm">粒子类型 ID</a></span></td><td>死亡或 <span class="inline2">-1</span> 时产生的粒子类型。</td></tr><tr><td><span class="inline">death_number</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>死亡时产生的粒子数量。</td></tr><tr><td><span class="inline">step_type</span></td><td><span data-keyref="Type_ID_PartType"><a target="_blank" href="Particle_Types/part_type_create.htm">粒子类型 ID</a></span></td><td>每一步产生的粒子类型或 <span class="inline2">-1</span>。</td></tr><tr><td><span class="inline">step_number</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>每一步产生的粒子数。</td></tr><tr><th colspan="3">速度</th></tr><tr><td><span class="inline">speed_min</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>创建粒子时的最小速度 (以每帧像素为单位)(此起始速度是为每个粒子随机确定的，范围从 <span class="inline2">speed_min</span> 到 <span class="inline2">speed_max</span>)。</td></tr><tr><td><span class="inline">speed_max</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>创建粒子时的最大速度 (以每帧像素为单位)(此起始速度是为每个粒子随机确定的，范围从 <span class="inline2">speed_min</span> 到 <span class="inline2">speed_max</span>)。</td></tr><tr><td><span class="inline">speed_incr</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>按每一帧增加/降低粒子速度的值。</td></tr><tr><td><span class="inline">speed_wiggle</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>每一帧的粒子速度随机增加或减去的值。</td></tr><tr><th colspan="3">方向</th></tr><tr><td><span class="inline">dir_min</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>创建粒子时粒子的最小方向(以度为单位)(此起始方向是为每个粒子随机确定的，范围从 <span class="inline2">dir_min</span> 到 <span class="inline2">dir_max</span>)。</td></tr><tr><td><span class="inline">dir_max</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>创建粒子时粒子的最大方向(以度为单位)(此起始方向是为每个粒子随机确定的，范围从 <span class="inline2">dir_min</span> 到 <span class="inline2">dir_max</span>)。</td></tr><tr><td><span class="inline">dir_incr</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>按每一帧增加/减少粒子方向的值。</td></tr><tr><td><span class="inline">dir_wiggle</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>每一帧的粒子方向随机相加或相减的值。</td></tr><tr><th colspan="3">重力</th></tr><tr><td><span class="inline">grav_amount</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>每帧应用于粒子的重力量(以每帧像素为单位)。</td></tr><tr><td><span class="inline">grav_dir</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>重力方向</td></tr><tr><th colspan="3">定位</th></tr><tr><td><span class="inline">ang_min</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>创建粒子精灵时的最小起始角度(以度为单位)(此起始角度是为每个粒子随机确定的，范围从 <span class="inline2">ang_min</span> 到 <span class="inline2">ang_max</span>)。</td></tr><tr><td><span class="inline">ang_max</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>创建粒子精灵时的最大起始角度(以度为单位)(此起始角度是为每个粒子随机确定的，范围从 <span class="inline2">ang_min</span> 到 <span class="inline2">ang_max</span>)。</td></tr><tr><td><span class="inline">ang_incr</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>每一帧增加/减少粒子角度的值。</td></tr><tr><td><span class="inline">ang_wiggle</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>每个帧的粒子角度随机相加或相减的值。</td></tr><tr><td><span class="inline">ang_relative</span></td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">布尔值</a></span></td><td>如果为 <span class="inline2">true</span>，则粒子角度相对于其方向。</td></tr><tr><th colspan="3">颜色 &amp; 透明度</th></tr><tr><td><span class="inline">color1</span></td><td><span data-keyref="Type_Constant_Colour"><a target="_blank" href="../Colour_And_Alpha/Colour_And_Alpha.htm">颜色</a></span></td><td>创建粒子时的颜色。</td></tr><tr><td><span class="inline">color2</span></td><td><span data-keyref="Type_Constant_Colour"><a target="_blank" href="../Colour_And_Alpha/Colour_And_Alpha.htm">颜色</a></span></td><td>粒子在其寿命的一半时的颜色。</td></tr><tr><td><span class="inline">color3</span></td><td><span data-keyref="Type_Constant_Colour"><a target="_blank" href="../Colour_And_Alpha/Colour_And_Alpha.htm">颜色</a></span></td><td>粒子在其寿命结束时的颜色。</td></tr><tr><td><span class="inline">alpha1</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>粒子创建时的透明度。</td></tr><tr><td><span class="inline">alpha2</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>粒子在其寿命的一半时的透明度。</td></tr><tr><td><span class="inline">alpha3</span></td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">实数</a></span></td><td>粒子寿命结束时的透明度。</td></tr><tr><td><span class="inline">additive</span></td><td><span data-keyref="Type_Bool"><a target="_blank" href="../../../GML_Overview/Data_Types.htm">布尔值</a></span></td><td>如果为 <span class="inline2">true</span>，则使用加法混合来绘制粒子(即使用<span data-keyref="Type_Constant_Draw_Blend_Mode"><a target="_blank" href="../GPU_Control/gpu_get_blendmode.htm">混合模式常量</a></span> <span class="inline2">bm_add</span>)。</td></tr></tbody></table></div><p>&nbsp;</p><p>最后，粒子发射器模式还有一个常量：</p><table id="particle_emitter_mode_constant" style="caption-side:top"><caption>粒子发射器模式常量</caption><colgroup><col style="width:33.33%"><col style="width:33.33%"></colgroup><tbody><tr><th>常量</th><th>描述</th></tr><tr><td><span class="inline">ps_mode_stream</span></td><td>The particle emitter <em>streams</em> the given number of particles continuously (see&nbsp;<span class="inline3_func"><a href="Particle_Emitters/part_emitter_stream.htm">part_emitter_stream</a></span>)</td></tr><tr><td><span class="inline">ps_mode_burst</span></td><td>The particle emitter emits a single <em>burst</em> of the given number&nbsp;of particles (see&nbsp;<span class="inline3_func"><a href="Particle_Emitters/part_emitter_burst.htm">part_emitter_burst</a></span>)</td></tr></tbody></table><p>&nbsp;</p><h4>语法:</h4><p class="code"><span data-field="title" data-format="default">particle_get_info</span>(partsys);</p><table><colgroup><col><col><col></colgroup><tbody><tr><th>参数</th><th>类型</th><th>描述</th></tr><tr><td>partsys</td><td><span data-keyref="Type_Asset_ParticleSystem"><a target="_blank" href="../../../../The_Asset_Editors/Particle_Systems.htm">粒子系统资源</a></span></td><td>要从中获取信息的粒子系统资源。</td></tr></tbody></table><p>&nbsp;</p><h4>返回:</h4><p class="code"><span data-keyref="Type_Struct_PartSystem_Info"><a target="_blank" href="#particle_system_info_struct">粒子系统信息结构</a></span></p><p>&nbsp;</p><h4>示例1：粒子类型信息</h4><p class="code">var _particle_info =&nbsp;<span data-field="title" data-format="default">particle_get_info</span>(ps_Clouds);<br>var _asset_name = _particle_info.name;<br><br>var _arr_emitters = _particle_info.emitters;<br>if (array_length(_arr_emitters) &gt; 0)<br>{<br>&nbsp; &nbsp; var _type_info = _arr_emitters[0].parttype;<br>&nbsp; &nbsp;<br>&nbsp; &nbsp; if (_type_info.additive)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; show_debug_message("The first emitter in {0} creates shiny particles!", _asset_name);<br>&nbsp; &nbsp; }<br>}</p><p>上述代码首先使用 <span class="inline3_func"><span data-field="title" data-format="default">particle_get_info</span></span> 从现有的 <span data-keyref="Type_Asset_ParticleSystem"><a target="_blank" href="../../../../The_Asset_Editors/Particle_Systems.htm">Particle System Asset</a></span><span class="inline2">ps_Clouds</span> 获取信息，并将返回的结构分配给临时变量 <span class="inline2">_particle_info</span>。 然后，它通过 <span data-keyref="Type_Struct_PartSystem_Info"><a target="_blank" href="#particle_system_info_struct">Particle System Info Struct</a></span> 的 <span class="inline2">emitters</span> 变量查找粒子系统中的发射器。 如果粒子系统包含任何发射器 (即数组的长度大于 0)， 第一个发射器的 <span class="inline2">parttype</span> 变量被分配给临时变量 <span class="inline2">_type_info</span>，并检查加性混合 (<span class="inline2">bm_add</span>)。最后，如果添加混合用于粒子类型，则会显示调试消息。</p><p>&nbsp;</p><h4>示例2：列出发射器名称</h4><p class="code">var _particle_info =&nbsp;<span data-field="title" data-format="default">particle_get_info</span>(ps_Environment);<br>var _asset_name = _particle_info.name;<br><br>var _emitter_names = array_map(_particle_info.emitters, function(_element, _index) { return _element.name; });<br>_emitter_names = string_join_ext(", ", _emitter_names);<br><br>show_debug_message("{0} contains the following particle emitters: {1}", _asset_name, _emitter_names);</p><p>上面的代码首先调用 <span class="inline3_func"><span data-field="title" data-format="default">particle_get_info</span></span> 以检索有关现有<span data-keyref="Type_Asset_ParticleSystem"><a target="_blank" href="../../../../The_Asset_Editors/Particle_Systems.htm">粒子系统资源</a></span> <span class="inline2">ps_Environment</span> 的信息。资产名称存储在临时变量<span class="inline2">_asset_name</span>中。之后，从<span data-keyref="Type_Struct_PartSystem_Info"><a target="_blank" href="#particle_system_info_struct">粒子系统信息结构</a></span>的<span class="inline2">emitters</span>变量生成发射器名称数组，并使用 <span class="inline3_func"><a href="../../Strings/string_join_ext.htm">string_join_ext</a></span> 将其转换为列出所有名称的字符串，以逗号分隔。最后，调试消息以可读的形式显示信息。</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div>Back:&nbsp;<a href="Particles.htm">粒子</a></div><div>Next:&nbsp;<a href="Particle_Systems/Particle_Systems.htm">粒子系统</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>