<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../..",gTopicId="8.2.2.18.0_43"</script><script type="text/javascript" src="../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><link rel="stylesheet" type="text/css" href="../../../assets/css/default.css"><script src="../../../../assets/scripts/main_script.js"></script><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="Adobe RoboHelp 2022"><title>Transferring Data Between Buffers</title><meta name="topic-status" content="Draft"><link rel="stylesheet" type="text/css" href="../../../assets/css/default.css"><meta name="search-keywords" content="buffer,vertex buffer,data,transfer,stride,copy,update"><meta name="rh-index-keywords" content="buffer,vertex buffer"><meta name="template" content="../../../assets/masterpages/Manual_Page.htt"><meta name="brsnext" value="GameMaker_Language/GML_Reference/UWP_And_XBox_Live/UWP_And_XBox_Live.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Buffers/buffer_base64_decode_ext.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Transferring Data Between Buffers"><span>Transferring Data Between Buffers</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><div></div><div><h1><span data-field="title" data-format="default">在缓冲区之间传输数据</span></h1><p>本页概述了如何在缓冲区和顶点缓冲区之间传输数据。</p><p>在最低级别，缓冲区是内存中由字节组成的连续区域。使用函数 <span class="inline3_func"><a href="buffer_read.htm">buffer_read</a></span> 和 <span class="inline3_func"><a href="buffer_write.htm">buffer_write</a></span>( 以及 <span class="inline3_func"><a href="buffer_peek.htm">buffer_peek</a></span>、<span class="inline3_func"><a href="buffer_poke.htm">buffer_poke</a></span> 和 <span class="inline3_func"><a href="buffer_fill.htm">buffer_fill</a></span>) 基本数据类型可以写入缓冲区。除此之外，可以组合这些基本数据类型来创建数据结构，其中结构中的每个条目都遵循给定的格式。</p><h3>Stride</h3><p>以这种结构化方式存储在缓冲区中的项目都占用相同数量的字节。这是从一个项目移动到下一个项目所需的字节数，称为步幅。</p><h2>缓冲区到缓冲区</h2><p>以下函数允许将部分数据从一个缓冲区复制到另一个缓冲区：</p><ul class="colour"><li><a href="buffer_copy.htm">buffer_copy</a>：复制连续的字节块一次</li><li><a href="buffer_copy_stride.htm">buffer_copy_stride</a>：多次复制连续的字节块。您可以使用它来复制例如所有位置、所有颜色、所有 UV 等。</li></ul><h2>缓冲区到顶点缓冲区</h2><p>顶点缓冲区是一种特殊类型的缓冲区。顶点格式决定将哪些数据写入缓冲区以及以何种顺序写入。您不必直接写入值，但可以调用 <span class="inline3_func"><a href="../Drawing/Primitives/vertex_position_3d.htm">vertex_position_3d</a></span>、<span class="inline3_func"><a href="../Drawing/Primitives/vertex_colour.htm">vertex_colour</a></span>、<span class="inline3_func"><a href="../Drawing/Primitives/vertex_texcoord.htm">vertex_texcoord</a></span> 等函数。</p><p>有一些特定于顶点缓冲区的事情：</p><ul class="colour"><li>在这种情况下，步幅是顶点格式 (以及顶点的大小) 的大小。</li><li>顶点属性的大多数组件都存储为 32 位浮点 (<span class="inline2">buffer_f32</span>)。</li><li>颜色属性的每个组成部分 (R、G、B、A) 均存储为无符号字节 (<span class="inline2">buffer_u8</span>)。</li></ul><p>下图显示了顶点缓冲区中的数据如何映射到缓冲区中的数据，以及相反的方式：</p><p><img class="center" src="../../../assets/Images/Scripting_Reference/GML/Reference/Buffers/buffer_transfer_overview.png"></p><p class="note"><span data-conref="../../../assets/snippets/Tag_tip.hts"><span class="tip">提示</span></span> 您可以使用函数 <span class="inline3_func"><a href="../Drawing/Primitives/vertex_format_get_info.htm">vertex_format_get_info</a></span> 获取有关给定格式的顶点数据如何在缓冲区中布局的信息。</p><p>以下函数可用于在缓冲区和顶点缓冲区之间传输数据，反之亦然：</p><ul class="colour"><li><a href="buffer_create_from_vertex_buffer.htm">buffer_create_from_vertex_buffer</a></li><li><a href="buffer_create_from_vertex_buffer_ext.htm">buffer_create_from_vertex_buffer_ext</a></li><li><a href="buffer_copy_from_vertex_buffer.htm">buffer_copy_from_vertex_buffer</a></li><li><a href="../Drawing/Primitives/vertex_create_buffer_from_buffer.htm">vertex_create_buffer_from_buffer</a></li><li><a href="../Drawing/Primitives/vertex_create_buffer_from_buffer_ext.htm">vertex_create_buffer_from_buffer_ext</a></li><li><a href="../Drawing/Primitives/vertex_update_buffer_from_buffer.htm">vertex_update_buffer_from_buffer</a></li></ul><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div>Back:&nbsp;<a href="Buffers.htm">缓冲区</a></div><div>Next:&nbsp;<a href="buffer_exists.htm">buffer_exists</a></div></div></div><h5><span data-conref="../../../assets/snippets/Copyright_Notice_AutoUpdate.hts">© Copyright <span data-keyref="Company Name">YoYo Games</span>&nbsp;<span data-keyref="Company Structure Suffix">Ltd.</span>&nbsp;<span data-field="date" data-format="YYYY">2024</span> All Rights Reserved</span></h5></div></div></body></html>