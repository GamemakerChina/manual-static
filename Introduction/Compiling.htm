<!--?xml version="1.0" encoding="utf-8" ?--><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "..";
    gCommonRootRelPath = "..";
    gTopicId = "1.0_4";
  
//]]></script>

  <script type="text/javascript" src="../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../template/styles/topic.min.css">
  <link rel="stylesheet" type="text/css" href="../template/Charcoal_Grey/topicheader.css">
  <meta name="topic-status" content="Draft">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Compiling</title>
  <meta name="generator" content="Adobe RoboHelp 2022">
  <link rel="stylesheet" href="../assets/css/default.css" type="text/css">
  <script src="../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander">
  <meta name="topic-comment" content="Compiling Projects In GameMaker">
  <meta name="rh-index-keywords" content="Compiling">
  <meta name="search-keywords" content="compiling">
<meta name="brsnext" value="Introduction/Debugging.htm"><meta name="brsprev" value="Introduction/The_Asset_Browser.htm"></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="Compiling">
        <span>Compiling</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">编译</span></h1>
  <p><a class="tooltip" title="编译是指GameMaker接受您的代码并将其收集在一起的方式，以创建可执行的程序包，该程序包将作为游戏在设备上运行。">编译</a>你的游戏可能意味着两件事中的一件。 编译它以进行测试，或编译它以创建一个最终的&nbsp;<em><a class="tooltip" title="用于执行程序的文件包。在GameMaker Studio中，它可以是单个文件（例如Windows的安装程序），也可以是多个文件（例如HTML5输出）。">可执行包</a></em>&nbsp;用于特定的目标平台。 本页旨在详细解释这两个选项。</p>
  <h2>为测试而编译</h2>
  <p>编译你的游戏进行测试，只需按下IDE顶部的Play按钮&nbsp;<img alt="Play Icon" class="icon" src="../assets/Images/Icons/Icon_PlayGame.png">，就可以使用指定的目标启动游戏进行测试。 你也可以通过使用调试按钮<strong>测试</strong>，在调试模式<img alt="Debug Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_Debug.png" width="24">下运行游戏。 这将运行游戏，但也会打开<strong>调试窗口</strong>，在那里你可以监控你的游戏表现，并看到任何问题（更多信息见<a href="Debugging.htm">调试</a>部分）。</p>
  <h2 id="h3">目标设置</h2>
  <p>默认情况下<span data-keyref="GameMaker Name">GameMaker</span>将使用内置的<a class="tooltip" title="在GameMaker中，VM（虚拟机）是一种编译方法，该方法对每个平台使用通用运行程序，然后使用该运行程序解释游戏代码。">虚拟机(VM)</a>运行和调试，这与正在使用的桌面操作系统上运行的情况大致相同。但是<span data-keyref="GameMaker Name">GameMaker</span>是一个<strong>跨平台引擎</strong>，您可以在许多不同的目标平台上测试，调试和编译项目的可执行包(可用的确切平台将取决于您的许可证的详细信息)。要更改当前目标平台，您可以单击目标按钮<img alt="Icon LMB" class="icon" height="24" src="../assets/Images/Icons/Icon_LMB.png" width="21">上的<img alt="Target Manager Icon" class="icon" src="../assets/Images/Icons/Icon_Targets.png">以打开<strong>目标窗口</strong>, 该窗口看起来像这样(确切的详细信息将根据您的许可证类型而有所不同):</p>
  <p><img alt="Target List" class="center" src="../assets/Images/Introduction/QS_TargetList.png">在顶部，在"目标"按钮旁边，您有当前设置，该设置告诉您实际使用的平台和特定设置，然后窗口的其余部分将讨论所有可用目标的详细信息和选项，您可以选择使用这些详细信息和选项。此窗口的每个部分解释如下：</p>
  <div class="droptext" data-targetname="drop_down">
    <ul class="colour">
    </ul>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down2" href="#"><span data-open-text="true" data-skip-index="true">平台</span><span data-close-text="true">平台</span></a></p>
  <div class="droptext" data-targetname="drop_down2">
    <p class="dropspot">本部分列出了所有可用的目标平台，具体取决于您拥有的许可证。它将始终至少有 "Gx.Games" 目标。</p>
    <p class="dropspot">要选择目标，只需在目标上单击<img alt="Icon LMB" class="icon" height="24" src="../assets/Images/Icons/Icon_LMB.png" width="21">;然后，这将更新其余选项窗口，根据所选平台显示不同的详细信息。如果你在当前运行时没有安装所需的模块，那么当你点击目标<span data-keyref="GameMaker Name">时</span>GameMaker<img alt="Icon LMB" class="icon" height="24" src="../assets/Images/Icons/Icon_LMB.png" width="21">会要求你下载并安装它：</p>
    <p class="dropspot"><img class="center" src="../assets/Images/Setup_And_Version/Preferences/Runtime_Module_Not_Installed.png"></p>
    <p class="dropspot">如果您在此处选择"<strong>否</strong>"，则目标将重置为您以前选择的目标。</p>
    <p class="dropspot">如果您在此处选择"<strong>是</strong>"，则将下载并安装目标的模块。</p>
    <p class="note"><span data-conref="../assets/snippets/Tag_note.hts"><span class="note">注意</span></span>有关如何更改包含哪些模块的更多信息，请参阅<a href="../Setting_Up_And_Version_Information/IDE_Preferences/Runtime_Feed_Preferences.htm">Runtime Feeds 首选项</a>页面。</p>
    <p class="dropspot">有关每个平台编译的具体细节在下面<a href="Compiling.htm#h2">创建最终可执行文件包</a>中给出。</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down3" href="#"><span data-open-text="true" data-skip-index="true">输出</span><span data-close-text="true">输出</span></a></p>
  <div class="droptext" data-targetname="drop_down3">
    <p class="dropspot">每个目标平台可以有一种或多种输出格式，主要有：</p>
    <ul class="dropspotlist">
      <li class="dropspot"><strong>VM</strong>：VM(虚拟机)目标为每个平台使用通用<em>runner</em>，然后解释游戏的代码。通常，此选项用于测试是因为它的构建时间更快，但是它提供的性能提升不如使用 YYC 选项(如果可用)所提供的性能提升。你可以用它来为性能永远不会成为问题的小型游戏或游戏编译可执行软件包。</li>
      <li class="dropspot"><strong>YYC</strong>：YYC(<a href="../Settings/YoYo_Compiler.htm">YoYo Compiler</a>) 从你的 GML 代码生成 C++ 代码，然后使用目标的 C++ 编译器将其编译成目标平台的原生代码。它去除了不需要的函数，并执行许多其他优化技术，以创建一个更小、性能增强的可执行包。<br><br>这可以将游戏的性能提高至少两到三倍，尤其是在逻辑密集型游戏中，非常适合那些大型或 CPU 密集型项目。编译时间可能会更长，在为目标平台构建任何最终的完整资源包之前，应始终清除编译器缓存。请注意，YYC 目标可能需要为所选平台安装额外的工具，否则它将无法正常工作——您可以从<a href="https://help.yoyogames.com/hc/en-us/articles/227860547-GMS2-Required-SDKs">YoYo Games 帮助中心</a>以及本手册中详细介绍的各个<a href="../Setting_Up_And_Version_Information/Platform_Preferences.htm">目标首选项</a>页面上找到有关此的更多信息。</li>
      <li class="dropspot"><strong>JavaScript</strong>: JavaScript目标将仅适用于特定目标，例如HTML5目标，并将要编译的游戏设置为纯JavaScript。这对它输出的JS使用<strong>ECMAScript 2015</strong>(或ES6)。</li>
    </ul>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down4" href="#"><span data-open-text="true" data-skip-index="true">设备</span><span data-close-text="true">设备</span></a></p>
  <div class="droptext" data-targetname="drop_down4">
    <p class="dropspot">某些平台(例如 iOS 或 Android)允许您将一台或多台设备与<span data-keyref="GameMaker Name">GameMaker</span>关联，以便游戏可以有选择地根据这些设备进行编译。最初，设备列表将为空，您需要单击<img alt="Icon LMB" class="icon" height="24" src="../assets/Images/Icons/Icon_LMB.png" width="21">铅笔图标<img alt="Pencil Icon" class="icon" height="18" src="../assets/Images/Icons/Icon_Pencil.png" width="18">才能打开<strong>设备编辑器</strong>：</p>
    <p class="dropspot"><img alt="The Device Editor" class="center" src="../assets/Images/Introduction/QS_DeviceEditor.png">在这里，您可以添加新设备，同时对<span data-keyref="GameMaker Name">GameMaker</span>测试到任何可能连接的设备的连接。此窗口的确切内容将取决于平台的详细信息(有关任何给定平台的确切详细信息，请参阅<a href="../Setting_Up_And_Version_Information/The_Device_Manager.htm">设备管理器</a>上的部分)。找到或添加设备后，该设备将显示在此窗口中，如本Android示例图片所示：</p>
    <p class="dropspot"><img alt="Add An Android Device" class="center" src="../assets/Images/Introduction/QS_AddDevice.png">设置设备和故障排除问题的确切程序和要求可以在<a href="https://help.yoyogames.com/hc/en-us/categories/204246668-GameMaker-Studio-2"><span data-keyref="GameMaker Name">GameMaker</span>知识库</a>的相应部分中找到。</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#"><span data-open-text="true" data-skip-index="true">配置</span><span data-close-text="true">配置</span></a></p>
  <div class="droptext" data-targetname="drop-down">
    <p class="dropspot">正如在<span><span></span></span><a href="../Settings/Configurations.htm">配置</a><span>一节中解释的那样，您可以将编译游戏的某些细节存储为<span></span></span><strong>配置</strong><span>。目标窗口的这个部分允许您让<span data-keyref="GameMaker Name"> GameMaker </span>自动为特定的目标平台选择特定的配置。</span></p>
  </div>
  <p>还可以设置一些首选项来修改和自定义编译工作流程，详见以下页面：</p>
  <ul class="colour">
    <li><a href="../Setting_Up_And_Version_Information/IDE_Preferences/General/Compiling.htm">编译首选项</a></li>
  </ul>
  <h2 id="h2">创建最终的可执行文件包</h2>
  <p>您可以在IDE中单击<strong>创建可执行文件</strong>按钮<img alt="Compile Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_Compile.png" width="24">或从<a href="../IDE_Navigation/Menus/The_Build_Menu.htm">构建</a>菜单中选择<strong>创建可执行文件</strong>。任一过程都将启动构建过程，具体取决于所选的目标平台。</p>
  <p>在GX.games目标上，它将打开一个特殊的窗口，允许您将游戏编译并上传到GX.games; 在所有其他目标上，它将打开一个文件资源管理器窗口，您可以在其中给出您希望用于游戏可执行文件的最终名称，在单击<em>保存</em>开始编译和构建过程之前。完成此操作后，将生成必要的文件，以便您可以根据需要进行分发。</p>
  <h3>你需要知道</h3>
  <p>以下是创建可执行文件时需要牢记的事项：</p>
  <ul class="colour">
    <li>如果您没有登录，您将无法创建可执行文件。在创建可执行文件之前，请使用&nbsp;<img class="icon" src="../assets/Images/Icons/Icon_AccountMenu.png">&nbsp;<a href="../IDE_Navigation/Menus/Version_&amp;_Account_Details.htm#h">账户菜单</a>&nbsp;菜单登录。</li>
    <li>对于某些平台，编译您的游戏项目将要求您设置了正确的<strong><a class="tooltip" title="生成工具是GameMaker Studio 2生成用于不同目标平台的可执行程序包所需的外部应用程序。">构建工具</a></strong>(请参阅<a href="../Setting_Up_And_Version_Information/Required_SDKs.htm">所需的SDKs</a>)，并且还填写了适当的<a href="../Setting_Up_And_Version_Information/Platform_Preferences.htm">平台首选项</a>。</li>
    <li>根据您的<a href="https://help.yoyogames.com/hc/en-us/articles/115002637011" title="Which Licence Is Right For Me?">许可证</a>，您可以选择通过命令行构建游戏，从而允许您为项目设置持续集成并简化构建和测试过程。有关命令行构建的更多信息，请参见<a href="../Settings/Building_via_Command_Line.htm">通过命令行构建</a>。</li>
    <li>最终游戏包的最大大小为 4GB (不包括<a href="../The_Asset_Editors/Sounds.htm">流媒体声音</a>、<a href="../Settings/Texture_Information/Dynamic_Textures.htm">动态纹理</a>和<a href="../Settings/Included_Files.htm">包含的文件</a>)。请参阅<a href="https://help.yoyogames.com/hc/en-us/articles/4642066783505-How-to-Reduce-Your-Game-s-Size">缩小最终游戏大小的提示</a>。</li>
    <li>在完成项目的最终版本发布之前，您应该<strong>总是清除资源编译器 <a class="tooltip" title="缓存是GameMaker临时生成的文件的集合，然后存储并在项目的多个运行中重复使用。请注意，此缓存有时可能会变成“陈旧的”，这意味着必须清除它以强制GameMaker从头开始重建它，以确保没有陈旧的文件破坏您的最终可执行游戏。">缓存</a></strong> (使用 IDE 顶部的“扫帚”图标<img alt="Clean Cache Icon" class="icon" src="../assets/Images/Icons/Icon_Clean.png">)。<span data-keyref="GameMaker Name"> GameMaker </span>会缓存很多游戏文件，以将编译速度保持在最低限度，这些文件有时会被破坏，所以在进行发布版本构建之前清除缓存更安全。</li>
  </ul>
  <h3>如何构建不同的目标</h3>
  <p>每个目标选项保存为平台特定格式，如下所示：</p>
  <ul class="colour">
    <li><strong>GX.games</strong> - When compiling for the "GX.games" target, you will see the "GX.games Packaging" window&nbsp;which will first ask you to sign in using your Opera account:<img align="" class="center" src="../assets/Images/Introduction/Compiling/gx_packaging_1.png">You won't need to sign in here if you've already signed into <span data-keyref="GameMaker Name">GameMaker</span> using <a href="../Setting_Up_And_Version_Information/Licencing_Information.htm">Opera Single Sign-In</a>.<br>
      <br>
      Next you will be asked the packaging option to use:&nbsp;<br>
      <img class="center" src="../assets/Images/Introduction/QS_GX.Games_Compile_Options.png" style="cursor: nesw-resize;"><br>
      After you have signed in, it will start compiling your game and proceed to upload it to GX.games. You can then click on "Edit Game on Opera" to edit it on GX.create&nbsp;and publish it:<br>
      <img class="center" src="../assets/Images/Introduction/Compiling/gx_game_compiled.png">Please refer to <a href="https://help.yoyogames.com/hc/en-us/articles/4407217145105">this page</a> to learn more about the GX.games upload process, and <a href="https://help.yoyogames.com/hc/en-us/articles/4625548722193">this page</a>&nbsp;for setting up the various exports, such as <a href="../Settings/YoYo_Compiler.htm">YYC</a> and Mobile.
    </li>
    <li><strong>Windows</strong>-为通用 Windows 操作系统进行编译将首先要求您在创建<em>Installer</em>或<em>Zip</em>包之间进行选择，其中安装程序将是安装游戏的单个可执行文件，而 Zip 文件将是单个<span class="inline">*.zip</span>格式的压缩文件，其中存储了所有游戏文件(需要提取文件才能运行游戏)。<img alt="Windows Compile Options" class="center" src="../assets/Images/Introduction/QS_Windows_Compile_Options.png">如果你选中标有<strong>记住包装选项</strong>的复选框，则<span data-keyref="GameMaker Name">GameMaker</span>将记住未来所有编译的选择(可以从<a href="../Setting_Up_And_Version_Information/Platform_Preferences/Windows.htm">窗口首选项</a>中重置或更改)。你可以从<a href="https://help.yoyogames.com/hc/en-us/sections/207157668">YoYo 游戏帮助中心</a>了解更多信息。<br><br>Windows 目标只能编译 64 位的可执行文件。</li>
    <li><strong>Ubuntu(Linux)</strong>-"为Ubuntu编译"将要求您在创建<strong>. AppImage</strong>或<strong>. zip</strong>文件(包含x 64或Arm可执行文件)之间进行选择(但AppImage不支持Arm)。您可以从<a href="http://help.yoyogames.com/hc/en-us/articles/235186168">YoYo游戏帮助中心</a>了解更多信息。<br><img class="center" src="../assets/Images/Introduction/Ubuntu_Exports.png"><strong>. AppImage</strong>作为软件包通过除Steam之外的任何分发服务器进行共享，而<strong>. zip</strong>仅用于<strong></strong>上载到Steam(因为它专门使用Steam运行时)。因此，无法将创建的<tt>.zip</tt>作为常规zip文件打开。</li>
    <li><strong>HTML5</strong>-如果你选择构建 HTML5，则将创建<span class="inline">index.html</span>文件(这是默认名称，但你也可以在 "平台偏好设置" 中给出自己的名字)以及一个包含游戏文件的文件夹，并将其保存到指定位置。为了让你的游戏正常运行，你需要将这两个都上传到<a class="tooltip" title="在计算中，服务器是为其他程序或设备提供功能的计算机程序或设备，称为“客户端”。">服务器</a>。<span class="inline">index.html</span>也可以进行自定义，以不同的背景颜色或在不同的位置等显示你的游戏... 但是要做到这一点，你还需要了解 HTML，你也可以在构建软件包时指定自己的自定义索引文件(参见<a href="../Settings/Game_Options/HTML5.htm">HTML5 Game Options</a>)。您可以从<a href="http://help.yoyogames.com/hc/en-us/sections/115000309008">YoYo 游戏帮助中心</a>了解更多信息。</li>
    <li><strong>Android</strong>-对于Android设备，您可以从显示的用于保存游戏的窗口中选择构建<span class="inline">*.apk</span>或<span class="inline">*.aab</span>(Android应用程序捆绑包)文件：<br><br><img alt="Andoird APK or AAB File Selector" class="center" src="../assets/Images/Introduction/QS_AndroidFileSelector.png">您选择的文件类型将取决于您希望锁定的商店，Google Play需要<span class="inline">*. aab</span>文件，而<span class="inline">*. apk</span>文件可用于其他商店。您可以从<a href="http://help.yoyogames.com/hc/en-us/articles/115001368727">YoYo游戏帮助中心</a>了解更多信息。</li>
    <li><strong>iOS</strong>-编译到iOS将创建一个<span class="inline">xarchive</span>文件，然后在Xtools中使用该文件创建最终的iOS包。请注意<strong>要为iOS编译，您将需要一台运行OSX或更高版本的Apple Mac计算机以及相关的证书和权限</strong>。您可以从<a href="http://help.yoyogames.com/hc/en-us/articles/115001368747">YoYo Games帮助中心</a>中找到更多信息。</li>
    <li><strong>macOS</strong>-为 macOS 目标编译将首先要求你在创建<em>DMG</em>或<em>Zip</em>文件之间进行选择：<br><img class="center" src="../assets/Images/Introduction/QS_macOS_Compile_Options.png">"Package as DMG" 将构建 .dmg 安装程序包，可用于在 Mac 电脑上安装游戏。请注意，在此构建过程中，您将看到安装程序出现在 Mac 上，构建过程完成后，安装程序将消失。<br><br>"打包为 Zip" 将构建 <span class="inline">*.app</span> 文件或 <span class="inline">*.pkg</span> 文件，具体取决于你以后是否想将其上传到 Mac App Store。与 iOS一样，<strong>你需要一台运行 OSX 或更高版本的 Apple Mac 电脑以及相关的证书和权限</strong>。您可以从<a href="http://help.yoyogames.com/hc/en-us/articles/235186128">YoYo 游戏帮助中心</a>了解更多信息。</li>
  </ul>
  <p>创建可执行资源包后，您可以将文件提供给其他人或将其放在您的网站上进行下载，或者将这些文件上传到不同的托管服务进行单独分发，甚至上传到在线商店(例如Google Play、Apple App Store或Microsoft Store)进行一般分发和零售。</p>
  <p>请注意，您可以以任何您喜欢的方式，包括销售<span data-keyref="GameMaker Name">GameMaker</span>免费分发您创建的游戏。当然，这假定您用来制作游戏的精灵、图像和声音也可以分发或出售，并且您对所有资源拥有合法权利，并且还假定游戏符合<a href="https://www.yoyogames.com/legal/eula">YoYo Games EULA for<span data-keyref="GameMaker Name">GameMaker</span></a>。</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="Introduction_To_GameMaker_Studio_2.htm"><span data-keyref="GameMaker Name">GameMaker 简介</span></a></div>
        <div style="float:right">Next: <a href="Debugging.htm">调试</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Compiling
Targets
Compiler Targets
VM
Test
YYC
YoYo Compiler
Cache
Cleaning The Cache
Device Editor
Adding Devices
Create Executable
Remote Workers
Target Manager
-->
  <!-- TAGS
compiling
compile_output
compile_platform
compile_device
compile_config
compile_remote
-->

</body></html>