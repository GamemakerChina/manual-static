<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.3.13.1.0_4"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>persistent</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page outlining the variable persistent"><meta name="rh-index-keywords" content="persistent"><meta name="search-keywords" content="persistent"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Instances/Instance_Variables/depth.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Instances/Instance_Variables/solid.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="persistent"><span>persistent</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1>persistent</h1><p>可以读取此变量来查找实例是否标记为<span class="inline">持久性</span>，或者它可用于将实例的持久性设置为<span class="inline">true</span>(持久性)或<span class="inline">false</span>(非持久性)。持久化实例是从一个房间转到另一个房间，这意味着(例如)它只需要在游戏开始时创建一次，并且它将出现在以后的所有房间中。应小心坚持，因为很容易失去对持久实例的跟踪，这可能导致游戏开发后期出现问题。</p><p>在房间中创建启用持久性的实例时，此变量将设置为<span class="inline">true</span>，并将指定一个图层或深度(取决于用于创建对象实例的函数)。更改房间时，如果下列房间<i>没有</i>与所分配的图层具有相同名称或深度的图层，则将为贯穿这些房间的实例创建新的图层。如果在创建实例时指定了命名层，则新层的名称也与原始层相同，而如果为实例指定了深度，则新层将命名为"<span class="inline">_layer_XXX</span>"，其中"XXX"是用于给层指定唯一名称的十六进制值。这些层将从房间末端的房间移除。关于层和持久实例，需要注意的是，如果您在创建时为实例分配了命名层，并且以下房间中有另一个层具有相同名称，则不管层<i>的深度如何，持久实例都将被分配给具有相同名称的层</i>。 最后，如果持久实例移动到层深度与实例创建深度相同的房间，则<i>不会</i>将其分配给此层，而是在相同深度创建新层(遵循前面说明的命名约定)。</p><p>持久对象仍会触发其<b>Game Start</b>、<b>Game End</b>、<b>Room Start</b>和<b>Room End</b>事件，但是，如果您重新启动游戏(例如，使用<span class="inline">game_restart()</span>函数)，所有持久对象将被删除，且仅当游戏再次创建时才存在。另外请注意，如果您停用了持久对象，它将不再从一个房间传递到另一个房间，除非在房间结束事件被触发之前重新激活。</p><p>&nbsp;</p><h4>语法:</h4><p class="code">persistent;</p><p>&nbsp;</p><h4>返回:</h4><p class="code"><span data-keyref="Type_Bool"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Boolean</a></span></p><p>&nbsp;</p><h4>例子:</h4><p class="code">if (!persistent)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;persistent = true;<br>}</p><p>上面的代码将检查实例以查看持久性是否标记为<span class="inline">false</span>，如果实例不持久，则持久性标志设置为<span class="inline">true</span>。</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back: <a href="Instance_Variables.htm">实例变量</a></div><div style="float:right">Next: <a href="depth.htm">depth</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>