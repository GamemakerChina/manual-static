<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../../../../..",gTopicId="8.2.2.3.14.2.0_12"</script><script type="text/javascript" src="../../../../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../../../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../../../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../../../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../../../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>tilemap_set_global_mask</title><meta name="generator" content="Adobe RoboHelp 2022"><link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css"><script src="../../../../../assets/scripts/main_script.js" type="module"></script><meta name="rh-authors" content="Mark Alexander"><meta name="topic-comment" content="Page outlining the function tilemap_set_global_mask"><meta name="rh-index-keywords" content="tilemap_set_global_mask,tile_rotate,tile_mirror,tile_flip,tile_index_mask"><meta name="search-keywords" content="tilemap_set_global_mask,tile_rotate,tile_mirror,tile_flip,tile_index_mask"><meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Rooms/Tile_Map_Layers/tilemap_set_width.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Rooms/Tile_Map_Layers/tilemap_set_mask.htm"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="tilemap_set_global_mask"><span>tilemap_set_global_mask</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><h1><span data-field="title" data-format="default">tilemap_set_global_mask</span></h1><p>此函数为游戏中的所有图块地图设置 <a data-rhwidget="HyperlinkPopover" href="Tile_Map_Layers.htm#tile_map_bit_mask">图块地图位掩码</a> 。</p><p>这个想法是，例如，如果您有 16 x 16 个图块的非常小的图块集，那么每个图块集中总共将有 256 个不同的图块，这仅占用 <a data-rhwidget="HyperlinkPopover" href="Tile_Map_Layers.htm#h3">{ }( 来自可用的</a> 19 <span data-keyref="Const_Tile_Data_Max_Index_Bits">位数据)。这些位可以被 " 屏蔽"，然后瓦片数据的其余部分可以用于存储附加值。请参阅</span> 计算掩码位 <a href="Tile_Map_Layers.htm#calculating_the_mask_bits">。</a></p><p>图块地图位掩码是一项高级功能，允许您将图块数据 "blob" 的位供您自己使用。例如，用户可以在图块数据结构中保留一个位来表示 " 实体"，然后可以检查它是否存在快速冲突。基本上，当 <i>绘制</i> 图块地图时，位掩码会针对图块数据进行 " 与 " 运算 (因此不会影响任何其他功能)，这意味着不在掩码中的位被忽略，但用户仍可以出于自己的目的进行读取和写入。</p><p class="note"><span data-conref="../../../../../assets/snippets/Tag_important.hts"><span class="important">重要</span></span> 您应该确保在全局掩码中始终至少设置相同的位，以使每个图块地图掩码 (<span class="inline3_func"><a href="tilemap_set_mask.htm">tilemap_set_mask</a></span>) 按照您的方式工作预计。例如，全局掩码 <span class="inline2">0b0000111111111101</span> 将强制任何图块地图掩码中的位 1 为 0，因为这两个掩码之间存在 " 与 " 关系，无论该位是否已设置。</p><p>&nbsp;</p><h4>语法:</h4><p class="code"><span data-field="title" data-format="default">tilemap_set_global_mask</span>(mask);</p><table><tbody><tr><th>参数</th><th>类型</th><th>描述</th></tr><tr><td>mask</td><td><span data-keyref="Type_Real"><a target="_blank" href="../../../../GML_Overview/Data_Types.htm">Real</a></span></td><td>要使用的掩码值</td></tr></tbody></table><p>&nbsp;</p><h4>返回:</h4><p class="code"><span data-keyref="Type_Void">N/A</span></p><p>&nbsp;</p><h4>示例1：基本使用</h4><p class="code">var _mask = tile_mirror | tile_flip | tile_rotate | 255;<br>tilemap_set_global_mask(_mask);</p><p>上述代码将全局图块地图位掩码设置为 8 位 (二进制 <span class="inline2">0b11111111</span>，即值 <span class="inline2">255</span>)，同时还保留翻转、镜像和旋转值。</p><p>&nbsp;</p><h4>Example 2: Combining Global and Tile Map Mask</h4><p class="code">var _transform_bits =&nbsp;tile_mirror | tile_flip | tile_rotate;<br>var _mask_global =&nbsp;_transform_bits&nbsp;| 0b11111111;<br>var _mask_small_ts = _transform_bits | 0b1111;<br>tilemap_set_global_mask(_mask_global);<br><br>var _lay_id = layer_get_id("Tiles_sky");<br>var _map_id = layer_tilemap_get_id(_lay_id);<br>tilemap_set_mask(_map_id, _mask_small_ts);</p><p>上面的代码使用 <span class="inline3_func"><span data-field="title" data-format="default">tilemap_set_global_mask</span></span> 设置全局图块地图位掩码。 8 位可用于平铺索引，并且保留镜像、翻转和旋转位。对于名为 "Tiles_sky" 的图层上的图块地图，设置了一个自定义掩码，仅允许 4 位用于图块索引。然而，变换位也被保留。</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div style="float:left">Back:&nbsp;<a href="Tile_Map_Layers.htm">平铺地图元素</a></div><div style="float:right">Next:&nbsp;<a href="tilemap_set_width.htm">tilemap_set_width</a></div></div></div><h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5></div></body></html>