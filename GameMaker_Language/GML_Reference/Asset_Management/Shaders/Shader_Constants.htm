<!--?xml version="1.0" encoding="utf-8" ?--><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../../../..";
    gCommonRootRelPath = "../../../..";
    gTopicId = "8.2.2.3.8.0_17";
  
//]]></script>

  <script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css">
  <link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css">
  <meta name="topic-status" content="Draft">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Shader Uniforms</title>
  <meta name="generator" content="Adobe RoboHelp 2022">
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css">
  <script src="../../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander">
  <meta name="topic-comment" content="Page outlining the built-in Shader Uniforms">
  <meta name="rh-index-keywords" content="gm_Matrices,MATRIX_VIEW,MATRIX_PROJECTION,MATRIX_WORLD,MATRIX_WORLD_VIEW,MATRIX_WORLD_VIEW_PROJECTION,MATRIX_MAX,MAX_VS_LIGHTS,gm_BaseTexture,gm_LightingEnabled,gm_FogStart,gm_RcpFogRange,gm_PS_FogEnabled,gm_FogColour,gm_VS_FogEnabled,gm_AlphaTestEnabled,gm_AlphaRefValue">
  <meta name="search-keywords" content="Shader Constants,gm_Matrices,MATRIX_VIEW,MATRIX_PROJECTION,MATRIX_WORLD,MATRIX_WORLD_VIEW,MATRIX_WORLD_VIEW_PROJECTION,MATRIX_MAX,MAX_VS_LIGHTS,gm_BaseTexture,gm_LightingEnabled,gm_FogStart,gm_RcpFogRange,gm_PS_FogEnabled,gm_FogColour,gm_VS_FogEnabled,gm_AlphaTestEnabled,gm_AlphaRefValue">
<meta name="brsnext" value="GameMaker_Language/GML_Reference/Asset_Management/Sequences/Sequences.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Asset_Management/Shaders/shader_enable_corner_id.htm"></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="Shader Uniforms">
        <span>Shader Uniforms</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>着色器常量</h1>
  <p>除了 OpenGL ES 着色器语言 (GLSL ES)<a href="http://www.khronos.org/registry/gles/specs/2.0/GLSL_ES_Specification_1.0.17.pdf" target="_blank"> 参考页面 </a> 中定义的着色器函数和常量外，还有许多着色器 uniform 可供您使用，这些着色器 uniform 是 <span data-keyref="GameMaker Name">GameMaker</span> 独有的。</p>
  <p>使用着色器数组常量<span class="inline">GM_矩阵</span>时，可以将以下显示矩阵常量用作数组索引：</p>
  <table>
    <tbody>
      <tr>
        <th>常量</th>
        <th>描述</th>
      </tr>
      <tr>
        <td><span class="inline">MATRIX_VIEW</span></td>
        <td>This array index constant holds the index to the current view matrix. The index returned would be used as an array value when calling the <span class="inline">gm_Matrices</span> constant within the shader code.</td>
      </tr>
      <tr>
        <td><span class="inline">MATRIX_PROJECTION</span></td>
        <td>This array index constant holds the index to the current projection matrix. The index returned would be used as an array value when calling the <span class="inline">gm_Matrices</span> constant within the shader code.</td>
      </tr>
      <tr>
        <td><span class="inline">MATRIX_WORLD</span></td>
        <td>This array index constant holds the index to the current world matrix. This can be used for things like lighting if you have light information in world-space. The index returned would be used as an array value when calling the <span class="inline">gm_Matrices</span> constant within the shader code.</td>
      </tr>
      <tr>
        <td><span class="inline">MATRIX_WORLD_VIEW</span></td>
        <td>This array index constant holds the index to the result of the world and view matrices multiplied together. This is often used for things like fog. The index returned would be used as an array value when calling the <span class="inline">gm_Matrices</span> constant within the shader code.</td>
      </tr>
      <tr>
        <td><span class="inline">MATRIX_WORLD_VIEW_PROJECTION</span></td>
        <td>This array index constant holds the index to the result of the world, view and projection matrices multiplied together. This is the normal transformation matrix used for vertex positions. The index returned would be used as an array value when calling the <span class="inline">gm_Matrices</span> constant within the shader code.</td>
      </tr>
    </tbody>
  </table>
  <p>&nbsp;</p>
  <p>以下常量也可用：</p>
  <table>
    <tbody>
      <tr>
        <th>常量</th>
        <th>描述</th>
      </tr>
      <tr>
        <td><span class="inline">MATRIX_MAX</span></td>
        <td>The size of the matrix array (<span class="inline2">gm_Matrices</span>) in the vertex shader.</td>
      </tr>
      <tr>
        <td><span class="inline">MAX_VS_LIGHTS</span></td>
        <td>The maximum number of point and directional lights available in the shader.</td>
      </tr>
    </tbody>
  </table>
  <p>&nbsp;</p>
  <p>可以在着色器中使用以下预定义的矩阵统一和常量来访问 <span data-keyref="GameMaker Name">GameMaker</span> 特定值：</p>
  <table>
    <tbody>
      <tr>
        <th>常量</th>
        <th>描述</th>
      </tr>
      <tr>
        <td><span class="inline">gm_Matrices[matrix]</span></td>
        <td>This array constant returns a transform matrix and is one of the available pre-defined uniforms that <span data-keyref="GameMaker Name">GameMaker</span> creates for you to use within the shader code editor. The array index is chosen from one of the above listed constants.</td>
      </tr>
      <tr>
        <td><span class="inline">gm_BaseTexture</span></td>
        <td>This is a 2D sampler constant that returns the texture of the current object, as set by <span data-keyref="GameMaker Name">GameMaker</span>. So it would be the current sprite, surface or texture that would normally be used when drawing without the shader being called.</td>
      </tr>
      <tr>
        <td><span class="inline">gm_LightingEnabled</span></td>
        <td>This can be used to get or set the <span data-keyref="GameMaker Name">GameMaker</span> lighting when using 3D.</td>
      </tr>
      <tr>
        <td><span class="inline">gm_Lights_Direction[]</span></td>
        <td>This is an array of vec4s, each vec4 contains a light's normalised direction vector (X, Y, Z) and a fourth dimension (W) which is 1 when the light is enabled, and 0 when disabled</td>
      </tr>
      <tr>
        <td><span class="inline">gm_Lights_PosRange[]</span></td>
        <td>This is an array of vec4s, each vec4 contains a light's position (X, Y, Z) and a fourth dimension (W) which is the light's range, which is 0 when that light is disabled</td>
      </tr>
      <tr>
        <td><span class="inline">gm_Lights_Colour</span></td>
        <td>This is an array of vec4s, each vec4 contains a light's colour (R, G, B), with the alpha channel (A) always being 1</td>
      </tr>
      <tr>
        <td><span class="inline">gm_AmbientColour</span></td>
        <td>This is a vec4 containing the colour of the ambient light as set in <a href="../../Drawing/Lighting/draw_light_define_ambient.htm"><span class="inline">draw_light_define_ambient()</span></a></td>
      </tr>
      <tr>
        <td><span class="inline">gm_FogStart</span></td>
        <td>This can be used to get the distance where polygons start to be blended with the fog colour.</td>
      </tr>
      <tr>
        <td><span class="inline">gm_RcpFogRange</span></td>
        <td>This can be used to get the distance at which fog is maximal and nothing can be seen anymore.</td>
      </tr>
      <tr>
        <td><span class="inline">gm_PS_FogEnabled</span></td>
        <td>This will return <span class="inline">true</span> or <span class="inline">false</span> if the GPU has pixel fog enabled or not.</td>
      </tr>
      <tr>
        <td><span class="inline">gm_FogColour</span></td>
        <td>This can be used to get the fog colour used by <span data-keyref="GameMaker Name">GameMaker</span>.</td>
      </tr>
      <tr>
        <td><span class="inline">gm_VS_FogEnabled</span></td>
        <td>This will return <span class="inline">true</span> or <span class="inline">false</span> if the GPU has vertex fog enabled or not.</td>
      </tr>
      <tr>
        <td><span class="inline">gm_AlphaTestEnabled</span></td>
        <td>This can be used to get alpha testing in the shader. See <a href="../../Drawing/GPU_Control/gpu_set_alphatestenable.htm"><span class="inline">gpu_set_alphatestenable()</span></a>&nbsp;for more information on alpha testing.</td>
      </tr>
      <tr>
        <td><span class="inline">gm_AlphaRefValue</span></td>
        <td>This can be used to get the current alpha testing reference value. See <a href="../../Drawing/GPU_Control/gpu_set_alphatestref.htm"><span class="inline">gpu_set_alphatestref()</span></a>&nbsp;for more information on the alpha test reference.</td>
      </tr>
    </tbody>
  </table>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="Shaders.htm">着色器</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Shader Constants
gm_Matrices
MATRIX_VIEW
MATRIX_PROJECTION
MATRIX_WORLD
MATRIX_WORLD_VIEW
MATRIX_WORLD_VIEW_PROJECTION
MATRIX_MAX
MAX_VS_LIGHTS
gm_Matrices[matrix]
gm_BaseTexture
gm_LightingEnabled
gm_FogStart
gm_RcpFogRange
gm_PS_FogEnabled
gm_FogColour
gm_VS_FogEnabled
gm_AlphaTestEnabled
gm_AlphaRefValue
-->
  <!-- TAGS
shader_constants
-->

</body></html>