<!--?xml version="1.0" encoding="utf-8" ?--><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "..";
    gCommonRootRelPath = "..";
    gTopicId = "4.3.1";
  
//]]></script>

  <script type="text/javascript" src="../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../template/styles/topic.min.css">
  <link rel="stylesheet" type="text/css" href="../template/Charcoal_Grey/topicheader.css">
  <meta name="topic-status" content="Draft">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>The Debugger</title>
  <meta name="generator" content="Adobe RoboHelp 2020">
  <link rel="stylesheet" href="../assets/css/default.css" type="text/css">
  <script src="../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander">
  <meta name="topic-comment" content="Section that covers the debugger.">
  <meta name="rh-index-keywords" content="Debugger,The Debugger,Debugging">
  <meta name="search-keywords" content="debugging,the debugger,debug module,debug mode,debug">
<meta name="brsnext" value="IDE_Tools/The_Debugger/Watches.htm"><meta name="brsprev" value="IDE_Tools/Additional_IDE_Tools.htm"></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="The Debugger">
        <span>The Debugger</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">调试器</span></h1>
  <p><strong>调试器</strong>是用于检查游戏的强大工具，特别是用于跟踪代码中的错误和错误、检查脚本是否在应该运行的时间运行以及变量和数组是否包含预期值。您可以通过以下方式启动调试器：使用IDE顶部的调试<img alt="Debug Icon" class="icon" src="../assets/Images/Icons/Icon_Debug.png">按钮，从 <span data-keyref="GameMaker Name">GameMaker</span> <a class="tooltip" title="IDE，或集成开发环境，是一个软件应用程序，为计算机程序员提供软件开发的全面设施。在这种情况下，GameMaker Studio 2的整个前端都被认为是 IDE，包括创建图形、添加声音和添加代码以制作游戏的部分。">IDE</a> 运行游戏，或者转到<a href="../IDE_Navigation/Menus/The_Build_Menu.htm">构建菜单</a>并选择"<em>调试</em>"</p>
  <p class="note"><span data-conref="../assets/snippets/Tag_note.hts"><span class="note">注意</span></span> Windows 防火墙 (或您运行的任何其他防火墙程序)可能会提示您为此模块创建安全例外。<strong>您必须这样做，否则它将无法正常工作</strong>。这是由于调试器的工作方式，并且对于调试移动平台是必不可少的。</p>
  <p>在调试模式下运行游戏时，IDE 将显示调试器可用的不同工具：</p>
  <p><img alt="The Debugger Windows" class="center" src="../assets/Images/IDE Tools/Debug_Module.png">上图显示了调试器的默认布局，但与 IDE 的其他方面一样，您可以根据需要对其进行自定义，关闭不需要的窗口或更改确实需要的文档和窗口的大小。您可以随时从 IDE 顶部的调试器上下文菜单重置调试器布局，或重新打开关闭的窗口：</p>
  <p><img alt="Debugger Context Menu" class="center" src="../assets/Images/IDE Tools/Debug_Module_Context_Menu.png">下面我们将解释调试器的每个部分的用途：</p>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#"><span data-open-text="true" data-skip-index="true">图表视图</span><span data-close-text="true">图表视图</span></a></p>
  <div class="droptext" data-targetname="drop-down">
    <p class="dropspot">图表视图以图形方式显示项目在一段时间内如何使用内存及其帧速率：</p>
    <p class="dropspot"><img alt="Debug Graph" class="center" src="../assets/Images/IDE Tools/Debug_Graph.png">该图显示当前和平均内存使用量以及一段时间内的当前和平均FPS，您可以使用&nbsp;<img alt="Control Icon" class="icon" height="20" src="../assets/Images/Icons/Icon_Ctrl.png" width="55">&nbsp;/&nbsp;<img alt="CMD Icon" class="icon" height="20" src="../assets/Images/Icons/Icon_Cmd.png" width="55">&nbsp;与鼠标滚轮<img alt="MMB Icon" class="icon" src="../assets/Images/Icons/Icon_MMB.png">一起放大或缩小，如果您将鼠标光标放在任何图形元素上，它将显示选定点处该元素的值。</p>
    <p class="dropspot">图表视图还将某些调试事件显示为沿图形长度的点。这些事件是由 <span data-keyref="GameMaker Name">GameMaker</span> 在游戏运行的特定时刻自动生成的，以显示特定的重要事件，但您也可以使用函数 <a href="../GameMaker_Language/GML_Reference/Debugging/show_debug_message.htm"><span class="inline">show_debug_message()</span></a> 和 <a href="../GameMaker_Language/GML_Reference/Debugging/debug_event.htm"><span class="inline">debug_event()</span></a> 添加您自己的图形元素。系统事件将以不同于通过代码触发的事件的颜色进行标记：</p>
    <p class="dropspot"><img alt="Debug Graph Events" class="center" src="../assets/Images/IDE Tools/Debug_Graph_Events.png">在调试中运行游戏并将鼠标悬停在这些事件上时，将显示在游戏中该点触发的所有事件的列表，您可以选择将列表拉出到单独的窗口中进行修改，方法是单击"<strong>点击以在新窗口中打开</strong>"文本：</p>
    <p class="dropspot"><img alt="Debug Events" class="center" src="../assets/Images/IDE Tools/Debug_Events.png"></p>
    <p class="dropspot">&nbsp;</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#"><span data-open-text="true" data-skip-index="true">资源视图</span><span data-close-text="true">资源视图</span></a></p>
  <div class="droptext" data-targetname="drop-down1">
    <p class="dropspot">资源视图显示项目中正在使用的所有资源的列表，这些资源可以包含代码或GML可视操作。此部分的工作方式与<a href="../Introduction/The_Asset_Browser.htm">资源浏览器</a>非常相似，您可以展开其中的项目以显示更多信息，例如，特定对象的不同事件。然后，您可以在任何资源上双击<img alt="LMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_LMB.png" width="21">&nbsp;，以在<strong>代码视图</strong>窗口中打开它的代码，您可以在该窗口中检查值并添加或删除<strong>断点</strong>。</p>
    <p class="dropspot">&nbsp;</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down2" href="#"><span data-open-text="true" data-skip-index="true">调用堆栈</span><span data-close-text="true">调用堆栈</span></a></p>
  <div class="droptext" data-targetname="drop-down2">
    <p class="dropspot">此窗口将显示事件的当前调用堆栈，以及单步执行的代码的行号。调用堆栈本质上是一种后进先出的数据结构，它显示了所有游戏代码的执行顺序，这些代码来自<span data-keyref="GameMaker Name">GameMaker</span>运行者-因为调试是使用<a class="tooltip" title="在GameMaker中，VM（虚拟机）是一种编译方法，该方法对每个平台使用通用运行程序，然后使用该运行程序解释游戏代码。">虚拟机(VM)</a>--完成的--来自您为游戏编写的代码。在此处显示任何信息之前，调试器需要已<em>暂停</em>。</p>
    <p class="dropspot">&nbsp;</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down3" href="#"><span data-open-text="true" data-skip-index="true">工具栏</span><span data-close-text="true">工具栏</span></a></p>
  <div class="droptext" data-targetname="drop-down3">
    <p class="dropspot">工具栏有调试器控件以及一些基本信息，如内存使用情况、游戏的当前(真实)FPS以及一个指示器，用于显示调试器当前是否已连接(当连接到项目的运行实例时，该指示器将显示为绿色，否则将显示红色)。可用的控件包括：</p>
    <table class="icons" style="margin-left: 32auto">
      <tbody>
        <tr>
          <td class="icons"><img alt="Play Debug Icon" src="../assets/Images/Icons/Debug_play.png" style="margin-left: 24px;"></td>
          <td class="text">This starts the game again after it has been paused (keyboard shortcut "<span class="inline">f5</span>").</td>
        </tr>
        <tr>
          <td class="icons"><img alt="Pause Debug Icon" height="24" src="../assets/Images/Icons/Debug_Pause.png" style="margin-left: 24px;" width="24"></td>
          <td class="text">This will pause (break) the game.</td>
        </tr>
        <tr>
          <td class="icons"><img alt="Restart Debug Icon" src="../assets/Images/Icons/Debug_Restart.png" style="margin-left: 24px;"></td>
          <td class="text">Restarts the game.</td>
        </tr>
        <tr>
          <td class="icons"><img alt="Stop Debug Icon" height="24" src="../assets/Images/Icons/Debug_Stop.png" style="margin-left: 24px;" width="24"></td>
          <td class="text">Stops the game.</td>
        </tr>
        <tr>
          <td class="icons"><img alt="Step In Debug Icon" src="../assets/Images/Icons/Debug_StepIn.png" style="margin-left: 24px;"></td>
          <td class="text">Step into a code block or script (keyboard shortcut "<span class="inline">f11</span>").</td>
        </tr>
        <tr>
          <td class="icons"><img alt="Step Over Debug Icon" src="../assets/Images/Icons/Debug_StepOver.png" style="margin-left: 24px;"></td>
          <td class="text">Step over a code block or script (keyboard shortcut "<span class="inline">f10</span>").</td>
        </tr>
        <tr>
          <td class="icons"><img alt="Step Out Debug Icon" src="../assets/Images/Icons/Debug_StepOut.png" style="margin-left: 24px;"></td>
          <td class="text">Step out of a code block or script (keyboard shortcut <img alt="Shift Icon" class="icon" height="20" src="../assets/Images/Icons/Icon_Shift.png" width="55">&nbsp;+ "<span class="inline">f11</span>").</td>
        </tr>
        <tr>
          <td class="icons"><img alt="Real Time Debug Icon" src="../assets/Images/Icons/Debug_RealTime.png" style="margin-left: 24px;"></td>
          <td class="text">Turn on or off real time updates for the debug information (this is off by default).</td>
        </tr>
      </tbody>
    </table>
    <p class="dropspot">前三个按钮用于控制您的游戏，允许您随时<strong>开始</strong>、<strong>暂停</strong>、<strong>重新启动</strong>或<strong>停止</strong>游戏。当游戏暂停时(通过单击暂停按钮或从<strong>断点</strong>)，您可以使用三个<strong>步骤</strong>按钮单步执行代码。</p>
    <p class="dropspot">当我们谈论"单步执行"代码时，我们的意思是-您可以告诉游戏运行当前的代码行，然后"单步执行"到下一行代码，允许您根据需要一次运行整个游戏的一行代码。通常情况下，您只需使用<strong>单步执行</strong>按钮即可完成此操作，但您还有一个按钮用于<strong>跳过</strong>代码，另一个按钮用于<strong>退出</strong>执行代码。当您有大的脚本要运行时，跳过是很有用的，因为单击这将作为单个步骤运行整个脚本或代码块，然后在下一行停止，而跨出将使您退出脚本(它们将同时运行)，并在之后范围发生变化时停止在下一步。</p>
    <p class="dropspot"><strong>实时更新</strong>的最后一个图标允许调试窗口实时更新其数据，这样您就可以看到变量是如何变化的，或者实例是如何创建和销毁的。请注意，这可能会影响游戏性能，而且并非所有信息都是实时可用的。例如，无法实时查看<strong>渲染状态</strong>监视(请参阅有关<a href="The_Debugger/Watches.htm">监视器</a>的部分)。</p>
    <p class="dropspot">&nbsp;</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down4" href="#"><span data-open-text="true" data-skip-index="true">代码视图</span><span data-close-text="true">代码视图</span></a></p>
  <div class="droptext" data-targetname="drop-down4">
    <p class="dropspot">在代码视图中，我们可以在项目运行时查看和查看不同的脚本或事件代码。默认情况下，开始时为空，但您可以在<strong>资源视图</strong>中的任何资源上双击<img alt="LMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_LMB.png" width="21">以在此处打开它。您还可以打开多个不同的事件或脚本，它们将作为选项卡添加到代码视图工作区的顶部。</p>
    <p class="dropspot">当代码视图中的任何代码窗口处于打开状态时，您可以在栏间距(行号所在的位置)中单击<img alt="LMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_LMB.png" width="21">以添加或删除<strong>断点</strong>(有关断点的信息，请参见本页下方的更多部分)。</p>
    <p class="dropspot">您还可以使用鼠标右键<img alt="RMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_RMB.png" width="21">打开<strong>上下文菜单</strong>，该菜单还允许您添加或删除断点并将任何选定的代码复制到剪贴板。</p>
    <p class="dropspot">&nbsp;</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down5" href="#"><span data-open-text="true" data-skip-index="true">监视器</span><span data-close-text="true">监视器</span></a></p>
  <div class="droptext" data-targetname="drop-down5">
    <p class="dropspot">这一部分致力于"观察"游戏的不同方面，以便进行更深入和详细的调试。下一页将详细介绍这一点：</p>
    <ul class="dropspotlist">
      <li class="dropspot"><a href="The_Debugger/Watches.htm">监视器</a></li>
    </ul>
  </div>
  <p><br>需要注意的是，在游戏运行时，默认情况下不会使用变量值和其他详细信息更新调试窗口，因此您必须首先使用调试器中的暂停按钮<img alt="Pause Debug Icon" class="icon" src="../assets/Images/Icons/Debug_Pause.png">暂停游戏，然后才能使用本地、全局和其他数据，或者从顶部的图标启用实时更新<img alt="Real Time Debug Icon" class="icon" src="../assets/Images/Icons/Debug_RealTime.png">。此规则的唯一例外是<strong>配置文件</strong>视图，它在独立于实时开关启用时实时更新，因为它有自己的开/关按钮。您可以在以下页面中找到有关此视图的完整信息：</p>
  <ul class="colour">
    <li><a href="The_Debugger/The_Profiler.htm">探查器</a></li>
  </ul>
  <p>调试游戏的另一个重要部分是使用<strong>断点</strong>。断点是项目代码中您希望它停止的位置，以便您可以看到正在发生的事情。在调试器运行的情况下，您可以随时在任何代码或脚本块中添加或删除断点，方法是在线框(行号所在的位置)中左键单击<img alt="LMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_LMB.png" width="21">，或者使用鼠标右键<strong><img alt="RMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_RMB.png" width="21"></strong>打开<strong>上下文菜单</strong>，该菜单还允许您添加或删除断点：</p>
  <p><img alt="Add/Remove Breakpoints" class="center" src="../assets/Images/IDE Tools/Add_Remove_Breakpoint.gif"> 也可以从 <span data-keyref="GameMaker Name">GameMaker</span>IDE 设置断点。在编写项目时，可以随时使用 <span class="inline">f9</span>( 或使用鼠标右键 <img alt="RMB Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_RMB.png" width="21"> 并选择 "<strong> 切换断点 </strong>") 在对象窗口中的操作上 (对于 GML 可视化用户) 或在代码编辑器窗口中的行上添加或删除它们。现在，当您在调试模式下运行游戏时，它将在您定义的一个或多个点上暂停。</p>
  <p>从 IDE 中设置的断点与您的项目一起保存，并将在各种运行中保持不变，直到再次删除。但是，如果您在调试器中向代码添加断点，则在关闭模块或启动新的测试运行后，该断点将丢失。请注意，所有断点都将出现在<a href="../Introduction/The_Output_Window.htm">输出窗口</a>中，您可以在其中启用、禁用甚至删除断点。</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="Additional_IDE_Tools.htm">附加 IDE 工具</a></div>
        <div style="float:right">Next: <a href="The_Micro_Web_Server.htm">微型 Web 服务器</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
The Debugger
The Debug Module
Debug Mode
Debugging
Debug
-->
  <!-- TAGS
debug_mode
-->

</body></html>