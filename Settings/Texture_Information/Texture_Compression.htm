<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><script type="text/javascript" language="JavaScript">function reDo(){innerWidth==origWidth&&innerHeight==origHeight||location.reload()}4==parseInt(navigator.appVersion)&&"Netscape"==navigator.appName&&(origWidth=innerWidth,origHeight=innerHeight,onresize=reDo),onerror=null</script><style type="text/css">p.WebHelpNavBar{text-align:right}</style><script type="text/javascript">gCommonRootRelPath=gRootRelPath="../..",gTopicId="5.2.0_2"</script><script type="text/javascript" src="../../template/scripts/rh.min.js"></script><script type="text/javascript" src="../../template/scripts/common.min.js"></script><script type="text/javascript" src="../../template/scripts/topic.min.js"></script><script type="text/javascript" src="../../template/scripts/topicwidgets.min.js"></script><script type="text/javascript" src="../../whxdata/projectsettings.js"></script><link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css"><link rel="stylesheet" type="text/css" href="../../template/Charcoal_Grey/topicheader.css"><meta name="topic-status" content="Draft"><link rel="stylesheet" type="text/css" href="../../assets/css/default.css"><script src="../../../assets/scripts/main_script.js"></script><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="Adobe RoboHelp 2022"><title>Texture Compression</title><meta name="topic-status" content="Draft"><link rel="stylesheet" type="text/css" href="../../assets/css/default.css"><meta name="topic-comment" content="Overview page for texture compression"><meta name="template" content="../../assets/masterpages/Manual_Page.htt"><meta name="search-keywords" content="texture,compression,BCN,BC3,BC7,ASTC,GPU"><meta name="rh-index-keywords" content="Texture Compression"></head><body><div class="topic-header rh-hide" id="rh-topic-header"><div class="logo"></div><div class="nav"><div class="title" title="Texture Compression"><span>Texture Compression</span></div><div class="gotohome" title="Click here to see this page in full context"><a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a></div></div></div><div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div><div></div><div><h1><span data-field="title" data-format="default">纹理压缩</span></h1><p>纹理压缩是专门应用于纹理的图像压缩。</p><p>游戏的纹理可能会占用很大一部分内存，在内存和显存中也是如此。<span>例如，一个 2048x2048 像素的纹理图像包含所有四个通道 (R,G,B 和 A)，占用 (2048x2048) 像素 x4 通道 / 像素 x1 字节 / 通道 = 16777216 字节或 16MB 的显存。</span>所有这些数据都需要加载到内存中，然后发送到内存中。</p><p><span></span>可以压缩纹理以减小其大小，从而最大限度地减少在预取纹理时需要从 RAM 内存移动到 VRAM 的数据量(因为可用带宽有限)。此外，如果您的游戏执行多次纹理查找，并且运行该游戏的平台没有足够的图形内存带宽来处理高帧速率的纹理读取，则游戏可能会变慢。<span></span></p><p><span data-keyref="GameMaker Name">GameMaker</span>&nbsp;有两种方式支持纹理压缩和解压缩。纹理压缩按<a href="../Texture_Groups.htm">纹理组</a>设置，并根据使用的格式而不同：&nbsp;</p><ul class="colour"><li><strong>BZ +</strong> <strong>QOI</strong>, <strong>QOI</strong>, <strong>PNG</strong> - 资源编译器将纹理组中的所有纹理压缩为给定格式，并将它们与游戏一起存储。当它们从磁盘加载到 RAM 中时，它们在 RAM 中保持压缩状态。然后，当来自该纹理组格式的纹理被提取到 VRAM 中时，它在 CPU 上被解压缩，并且解压缩的数据存储在 VRAM 中。</li><li><strong>自定义</strong> - GPU纹理压缩。纹理是在编译时使用外部工具生成的，该工具将纹理压缩为优化的格式，以便在 GPU 上解压缩，然后与游戏一起存储。当此格式的纹理加载到 RAM 中时，它将保持压缩状态。当它被提取到 VRAM 中时，纹理数据仍然保持压缩状态。当 GPU 对纹理执行纹理查找时，它会实时解压缩纹理。</li></ul><p>下图显示了不同纹理格式的比较：&nbsp;</p><figure><img alt="" class="center" height="314" src="../../assets/Images/Scripting_Reference/GML/Reference/Drawing/texture_compression_comparison_default_bcn7_bcn3.png" width="462"><figcaption>不同纹理组格式的比较。<br>从左到右：BZ2 + QOI (无 GPU 纹理压缩)、BC7 和 BC3。</figcaption></figure><h3 id="gpu_compressed_textures">GPU 压缩纹理</h3><p>纹理以压缩格式存储在 VRAM 中，并由 GPU 实时解压缩。</p><p>自定义GPU纹理压缩使用扩展：<a href="https://github.com/YoYoGames/GM-GPUTextureCompression">GM-GPUTextureCompression</a>。要生成 GPU 纹理，应首先将此扩展添加到项目中。</p><p>添加扩展后，要为纹理组启用GPU压缩纹理：</p><ul class="colour"><li>将<a href="../Texture_Groups.htm#texture_group_format">纹理组格式</a>设置为<strong>自定义</strong>。</li><li>输入要使用的工具以及<a href="../Texture_Groups.htm#custom_options">自定义选项</a>下的设置。例如，若要生成中等质量的 BC7 压缩纹理，请将其设置为 <span class="inline2">BCN -u2</span>。</li></ul><p>当游戏被编译时，纹理由外部工具生成，该工具通过扩展执行。该工具将纹理压缩为优化的格式，以便在 GPU 上解压缩。</p><p>有关支持的可用纹理格式的完整信息，请参阅 <a href="https://github.com/YoYoGames/GM-GPUTextureCompression/wiki/config">wiki</a>。</p><p class="note"><span data-conref="../../assets/snippets/Tag_warning.hts"><span class="warning">警告</span></span> 某些纹理格式仅在某些平台上受支持。您应确保为要编译的平台选择适当的纹理格式。如果扩展不存在或任何设置不正确，则<a href="../../Introduction/The_Output_Window.htm">输出窗口</a>中会显示错误消息。</p><p>GPU 压缩纹理使用<em>块压缩</em>进行压缩。这是 GPU 压缩的最常见形式，几乎所有现代平台都支持某种格式。当 GPU 纹理使用例如 BCN 压缩从原始图像生成时，它被细分为固定大小的 4x4 像素或纹理块 (其他压缩算法支持不同的块大小 ). 这个块中像素的信息被转换成一个 128 位的值.当 GPU 读回这个值时，它会尽可能精确地从请求的像素中恢复颜色值。有关详细信息，请参阅 <a href="https://en.wikipedia.org/wiki/S3_Texture_Compression">S3_Texture_Compression</a>。</p><p>&nbsp;</p><p>&nbsp;</p><div class="footer"><div class="buttons"><div class="clear"><div>Back:&nbsp;<a href="../Texture_Groups.htm">纹理组</a></div><div>Next:&nbsp;<a href="Dynamic_Textures.htm">动态纹理</a></div></div></div><h5><span data-conref="../../assets/snippets/Copyright_Notice_AutoUpdate.hts">© Copyright <span data-keyref="Company Name">YoYo Games</span>&nbsp;<span data-keyref="Company Structure Suffix">Ltd.</span>&nbsp;<span data-field="date" data-format="YYYY">2024</span> All Rights Reserved</span></h5></div></div></body></html>