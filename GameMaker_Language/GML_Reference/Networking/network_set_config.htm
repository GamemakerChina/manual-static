<!--?xml version="1.0" encoding="utf-8" ?--><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../../..";
    gCommonRootRelPath = "../../..";
    gTopicId = "8.2.2.15.0_10";
  
//]]></script>

  <script type="text/javascript" src="../../../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../../../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../../../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../../../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../../../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css">
  <link rel="stylesheet" type="text/css" href="../../../template/Charcoal_Grey/topicheader.css">
  <meta name="topic-status" content="Draft">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>network_set_config</title>
  <meta name="generator" content="Adobe RoboHelp 2022">
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css">
  <script src="../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander">
  <meta name="topic-comment" content="Reference page for network_set_config">
  <meta name="rh-index-keywords" content="network_set_config,network_config_connect_timeout,network_config_use_non_blocking_socket,network_config_enable_reliable_udp,network_config_disable_reliable_udp,network_config_avoid_time_wait,network_config_enable_multicast,network_config_disable_multicast ">
  <meta name="search-keywords" content="network_set_config,network_config_connect_timeout,network_config_use_non_blocking_socket,network_config_enable_reliable_udp,network_config_disable_reliable_udp,network_config_avoid_time_wait,network_config_enable_multicast,network_config_disable_multicast ">
<meta name="brsnext" value="GameMaker_Language/GML_Reference/Networking/network_set_timeout.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Networking/network_resolve.htm"></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="network_set_config">
        <span>network_set_config</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>network_set_config</h1>
  <p>使用此函数，您可以设置不同的网络配置。</p>
  <p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"><span class="note">NOTE</span></span>&nbsp;This function will not work when used in a project running on the HTML5 target.</p>
  <p>这些配置以<b>常量</b>的形式提供，设置将取决于您选择的常量。下表列出了可用的常量及其设置：</p>
  <table>
    <colgroup>
      <col>
      <col>
      <col>
    </colgroup>
    <tbody>
      <tr>
        <th colspan="3"><span data-keyref="Type_Constant_Network_Config"><a target="_blank" href="../../../../GameMaker_Language/GML_Reference/Networking/network_set_config.htm">网络配置常量</a></span></th>
      </tr>
      <tr>
        <th>常量</th>
        <th>描述</th>
        <th>设置</th>
      </tr>
      <tr>
        <td><span class="inline">network_config_connect_timeout</span></td>
        <td>Set a connection timeout value</td>
        <td>以毫秒为单位的值</td>
      </tr>
      <tr>
        <td><span class="inline">network_config_use_non_blocking_socket</span></td>
        <td>Tell <span data-keyref="GameMaker Name">GameMaker</span> not to block on connect.</td>
        <td>0 = 阻塞的, 1 = 不阻塞</td>
      </tr>
      <tr>
        <td><span class="inline">network_config_enable_reliable_udp</span></td>
        <td>Enables the "reliable UDP" protocol for an existing UDP socket</td>
        <td>目标的套接字ID</td>
      </tr>
      <tr>
        <td><span class="inline">network_config_disable_reliable_udp</span></td>
        <td>Disables the "reliable UDP" protocol for an existing UDP socked.</td>
        <td>目标的套接字ID</td>
      </tr>
      <tr>
        <td><span class="inline">network_config_avoid_time_wait</span></td>
        <td>Sets the&nbsp;<span class="inline">SO_LINGER</span> timeout value to 0 for an exisiting TCP socket</td>
        <td>目标的套接字ID</td>
      </tr>
      <tr>
        <td><span class="inline">network_config_enable_multicast</span></td>
        <td>Enables multicast support for UDP</td>
        <td>目标的套接字ID</td>
      </tr>
      <tr>
        <td><span class="inline">network_config_disable_multicast</span></td>
        <td>Disables multicast support for UDP</td>
        <td>目标的套接字ID</td>
      </tr>
    </tbody>
  </table>
  <h3>Timeout</h3>
  <p>The first option (<span class="inline">network_config_connect_timeout</span>) simply sets the timeout for connecting to a server but doesn't change connection behaviour apart from the time you have to wait. It is recommended that you don't set this too low and keep it at about 1000 for a LAN only game or 4000 or so for internet, or the game may fail to connect randomly. If you wish to set a timeout value for sending/receiving packets then use the function <a href="network_set_timeout.htm"><span class="inline">network_set_timeout()</span></a>.</p>
  <h3>Non Blocking Sockets</h3>
  <p>第二个选项(<span class="inline">network_config_use_non_blocking_socket</span>)表示<span class="inline">network_connect_*</span>函数(非异步)将立即返回<span class="inline">socket_id</span>，但在收到异步网络事件<i>之前无法在该套接字上发送或接收。触发的事件将"type"键设置为</i>network_type_non_blocking_connect<span class="inline">(您可以从</span><a href="../../../The_Asset_Editors/Object_Properties/Async_Events/Networking.htm">网络异步事件</a>的页面中找到更多详细信息)。这是一个<b>全局</b>设置，因为<span data-keyref="GameMaker Name">GameMaker</span>不支持在一个应用程序中混合使用阻止和非阻止。</p>
  <h3>Reliable UDP</h3>
  <p>第三个和第四个选项(<span class="inline">network_config_enable_reliable_udp</span>,<span class="inline">network_config_disable_reliable_udp</span>)用于启用或禁用<span data-keyref="GameMaker Name">GameMaker</span>可靠的UDP协议，因此，应该<b>仅用于UDP连接</b>。在这种情况下，"可靠"是指，在连接的<i>两端启用时，</i>GameMaker<span data-keyref="GameMaker Name">将尝试检查您的数据包是否已正确到达并重新发送任何未到达的数据包(注意，我们不保证您的数据包是按传输顺序到达的)。使用可靠的套接字类型时，会在所有udp数据包中添加一个12字节的头，其中包含</span>GameMaker<span data-keyref="GameMaker Name">检查数据包是否有错误以及重新发送丢失的数据包所需的信息。使用此选项时，以下几点值得注意：</span></p>
  <ul class="colour">
    <li>在发送数据之前，应在两端启用/禁用协议，并且在启用/禁用该选项之前发送或接收的任何数据都不会受到影响。</li>
    <li>您可以多次启用或禁用任何给定套接字ID的协议，只要在服务器端和客户端都正确管理该协议</li>
    <li>可能有两个单独的UDP插座，一个启用了可靠UDP，另一个禁用了可靠UDP。</li>
  </ul>
  <h3>TCP Timeout</h3>
  <p>The option&nbsp;<span class="inline">network_config_avoid_time_wait</span>&nbsp;is for&nbsp;<strong>TCP connections only</strong>&nbsp;and can be used to set the <span class="inline">SO_LINGER</span> value to <span class="inline2">0</span>&nbsp;t<span>o avoid large numbers of connections sitting in the <span class="inline">TIME_WAIT</span>&nbsp;</span><span>state, tying up all the available resources on a server.</span>&nbsp;This change is permanent while the socket is alive and cannot be undone.</p>
  <h3>Multicast</h3>
  <p>The options <span class="inline">network_config_enable_multicast</span> and <span class="inline">network_config_disable_multicast</span> can be used to enable/disable multicast support on UDP.&nbsp;</p>
  <p>When multicast is enabled on a UDP socket, it will be joined to the all-hosts (FF02::1) multicast group on each network interface in the system, and calls to <span class="inline3_func"><a href="network_send_broadcast.htm">network_send_broadcast</a></span> will transmit multicast packets on those groups in addition to IPv4 broadcasts.</p>
  <p>In general, games doing LAN discovery using <span class="inline3_func"><a href="network_send_broadcast.htm">network_send_broadcast</a></span> will want to turn this on, however the game must be written to handle receiving the same packet multiple times from multiple IPs -- i.e. the host's IPv4 and IPv6 address(es) and disambiguate these from other hosts (e.g. by embedding a unique value in the packet for each sender).</p>
  <p>&nbsp;</p>
  <h4>语法:</h4>
  <p class="code">network_set_config(config_value, setting);</p>
  <table>
    <tbody>
      <tr>
        <th>参数</th>
        <th>类型</th>
        <th>描述</th>
      </tr>
      <tr>
        <td>config_value</td>
        <td><span data-keyref="Type_Constant_Network_Config"><a target="_blank" href="../../../../GameMaker_Language/GML_Reference/Networking/network_set_config.htm">网络配置常量</a></span></td>
        <td>要设置的配置常量(请参阅本页顶部的表格)。</td>
      </tr>
      <tr>
        <td>setting</td>
        <td><span data-keyref="Type_Any"><a target="_blank" href="../../../../GameMaker_Language/GML_Overview/Data_Types.htm#variable">Any</a></span></td>
        <td>配置的设置值。</td>
      </tr>
    </tbody>
  </table>
  <p>&nbsp;</p>
  <h4>返回:</h4>
  <p class="code"><span data-keyref="Type_String"><a target="_blank" href="../../../../GameMaker_Language/GML_Overview/Data_Types.htm">String</a></span></p>
  <p>&nbsp;</p>
  <h4>例子:</h4>
  <p class="code">network_set_config(network_config_connect_timeout, 1000);<br>
    network_set_config(network_config_use_non_blocking_socket, 1);</p>
  <p>以上代码将网络连接的超时设置为1000 ms，并告诉<span data-keyref="GameMaker Name">GameMaker</span>不要阻塞连接。</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="Networking.htm">网络</a></div>
        <div style="float:right">Next: <a href="network_set_timeout.htm">network_set_timeout</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
network_set_config
network_config_connect_timeout
network_config_use_non_blocking_socket
network_config_enable_reliable_udp
network_config_disable_reliable_udp
network_config_avoid_time_wait 
network_config_enable_multicast
network_config_disable_multicast
-->
  <!-- TAGS
network_set_config
-->

</body></html>