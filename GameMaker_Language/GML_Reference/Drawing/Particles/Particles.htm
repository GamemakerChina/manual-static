<!--?xml version="1.0" encoding="utf-8" ?--><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../../../..";
    gCommonRootRelPath = "../../../..";
    gTopicId = "8.2.2.6.10";
  
//]]></script>

  <script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css">
  <link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css">
  <meta name="topic-status" content="Draft">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Particles</title>
  <meta name="generator" content="Adobe RoboHelp 2020">
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css">
  <script src="../../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander">
  <meta name="topic-comment" content="Reference section for the Particle functions and variables">
  <meta name="rh-index-keywords" content="">
  <meta name="search-keywords" content="Particles">
<meta name="brsnext" value="GameMaker_Language/GML_Reference/Drawing/Particles/effect_create_below.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Drawing/Lighting/draw_get_lighting.htm"></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="Particles">
        <span>Particles</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">粒子</span></h1>
  <p>对于 <span data-keyref="GameMaker Name">GameMaker</span> 中的复杂内容，通常会在房间周围有<a href="../../../../The_Asset_Editors/Objects.htm">对象</a>并创建该对象的<a href="../../Asset_Management/Instances/Instances.htm">实例</a>。然而，对于图形效果，这可能是昂贵的，因为由于它包含的变量和它在不同事件中具有的代码，每个实例在处理时都伴随着"成本"。您可以通过转向<a href="../../../../The_Asset_Editors/Room_Properties/Layer_Properties.htm">图块图层</a>和<a href="../../../../The_Asset_Editors/Room_Properties/Layer_Properties.htm">资源层</a>来降低此成本，以绘制您的图形需求，但这些图形需求通常是静态的，不能进行大量更改或移动。但是，在游戏中绘制快速而多函数的图形效果还有一个选项，那就是使用<i>粒子</i>。</p>
  <p><strong>粒子</strong>是具有在<i>粒子系统</i>中定义的某些特性的图形资源。这些特性不能直接针对单个粒子进行操作，而是通过用于定义单个粒子及其所属系统的代码进行更改。它们非常有用于在没有使用实例的Cpu开销的游戏中创建美丽和华丽的效果(或者微妙和谨慎的效果！)，如爆炸、贴花、雨、雪、星空和碎片。</p>
  <p>粒子系统的基本设置包括三个步骤，第三个步骤是可选的，具体取决于您希望如何在房间中创建粒子效果：</p>
  <ul class="colour">
    <li><b>创建粒子系统</b>：粒子系统就像一个容器，我们将使用该容器来容纳不同的粒子类型，以备使用。我们使用代码为我们的粒子定义一系列视觉方面和行为，然后将它们放在"容器"中，这样我们就可以随时随地将它们拿出来使用。</li>
    <li><b>创建粒子类型</b>：粒子类型是图形效果本身。您可以拥有许多不同的类型，每个类型都有自己的颜色范围、Alphase、大小和移动，但请注意，您<i>无法控制单个粒子</i>，这一点很重要。您定义了一系列参数，并且将创建粒子，以便从中选择随机扩散的行为。</li>
    <li><b>创建发射器</b>：发射器是一个选项，可用于从非常明确定义的限制内爆发或流化粒子。它们是可选的，因为您可以使用 <span class="inline3_func"><a href="Particle_Systems/part_particles_create.htm">part_particles_create</a></span> 和 <span class="inline3_func"><a href="Particle_Systems/part_particles_create_colour.htm">part_particles_create_colour</a></span> <font face="menlo, consolas, monospace"><span style="font-size: 17px;"></span></font>函数从任何实例创建粒子，但它们并不总是适用于每种情况。</li>
  </ul>
  <p>尽管粒子是创建效果的绝佳工具，但它们确实带有某些限制和良好做法，这些限制和做法需要遵循，除非您希望游戏受到低性能甚至潜在崩溃的影响：</p>
  <ul class="colour">
    <li>粒子系统、粒子和发射器占用内存，因此您应该非常小心地使用它们，因为它们很容易导致内存泄漏，从而降低速度并最终导致游戏崩溃。应对这种情况的一种方法是使<i>全局</i>系统具有在游戏开始时定义并在结束时删除的所有内容，但如果需要动态系统，则每个粒子和发射器(以及系统本身)都应在不需要的时候被销毁。</li>
    <li>CPU 上的粒子可能快而轻，但它们仍然需要 <i> 一些 </i> 处理，因此不应该有 40,000 个粒子同时在屏幕上爆炸。将它们限制在达到特定效果所必需的范围内，而不是更多。</li>
    <li>如果定义自己的粒子精灵，而不是使用14个包含的精灵中的一个，则应该尽量使它们尽可能小，以达到所需的效果。</li>
    <li>粒子<i>不会</i>与任何东西相互作用。如果需要它们与用户或游戏中的任何其他实例进行任何类型的交互，则应将使用实例视为粒子纯粹是图形。</li>
    <li>即使在一个游戏中可以创建的系统、发射器和粒子的数量没有技术限制，也应该尽量将所有内容限制在可能的最小数量，以尽可能地降低内存使用。</li>
    <li>在移动设备上，请注意<i>绘制的粒子，如果它们覆盖了大面积的屏幕(在移动设备上透支是放慢速度的主要原因之一)，它们可能会变慢。</i></li>
    <li>HTML5不支持添加混合，除非启用了WebGL，否则也不能进行颜色混合。</li>
  </ul>
  <p>使用<span data-keyref="GameMaker Name">GameMaker</span>在游戏中创建粒子的最简单方法是使用内置的效果机制。这些效果是使用内部粒子系统创建的，该系统基本上是一种非常快速的仅绘制图形效果的方法，因此在使用这些函数时，您不必担心所有细节(如内存管理)。您只需指定效果的类型、必须创建效果的位置、所需的大小以及最终的颜色，然后让<span data-keyref="GameMaker Name">GameMaker</span>完成所有工作。</p>
  <div data-conref="../../../../assets/snippets/Note_tip_use_particle_system_editor.hts">
  <p class="note"><span data-conref="../../../../assets/snippets/Tag_tip.hts"><span class="tip">提示</span></span> 如果您喜欢使用更直观的方法创建粒子，并且不需要 <span data-keyref="GML_Code">GML 代码</span>提供的大量功能，也可以使用<span data-keyref="Type_Asset_ParticleSystem">粒子系统编辑器<a target="_blank" href="../../../../../The_Asset_Editors/Particle_Systems.htm">创建</a></span>粒子系统资源<a href="../../../../The_Asset_Editors/Particle_Systems.htm"></a>。</p>

</div>
  <p>以下函数用于创建内置粒子效果：</p>
  <ul class="colour">
    <li><a href="effect_create_below.htm">effect_create_below</a></li>
    <li><a href="effect_create_above.htm">effect_create_above</a></li>
    <li><a href="effect_clear.htm">effect_clear</a></li>
  </ul>
  <p>即使这些效果在范围和自定义上都有限制，但它们仍然可以用来创造一些简单、伟大的效果，而且只需要很少的努力。例如，通过在每个步骤中在移动的导弹下方创建一小段灰色烟雾，可以创建一条非常令人信服的烟雾轨迹，因此即使您是粒子专家，也需要记住这些效果的存在，因为它们仍然可以为您节省一些时间。</p>
  <p><span data-keyref="GameMaker Name">GameMaker</span>&nbsp;还具有检索有关<span data-keyref="Type_Asset_ParticleSystem"><a target="_blank" href="../../../../../The_Asset_Editors/Particle_Systems.htm">粒子系统资源</a></span><a href="Particle_Systems/Particle_Systems.htm"></a>使用<a href="../../../../The_Asset_Editors/Particle_Systems.htm">粒子系统编辑器</a>创建的信息的功能：</p>
  <ul class="colour">
    <li><a href="particle_get_info.htm">particle_get_info</a></li>
  </ul>
  <p>但是，粒子的真正潜力在于使用 GameMaker 语言提供给您的强大函数来设计和创建自己的效果。您可以从以下每个部分了解更多信息：</p>
  <ul class="colour">
    <li><a href="Particle_Systems/Particle_Systems.htm"><label for="two">粒子系统</label></a></li>
    <li><a href="Particle_Types/Particle_Types.htm"><label for="three">粒子类型</label></a></li>
    <li><a href="Particle_Emitters/Particle_Emitters.htm"><label for="four">粒子发射器</label></a></li>
  </ul>
  <p><label for="four">还有一个部分为您提供了有关如何在以下页面上为游戏设计和创建粒子(使用 <span data-keyref="GML_Code">GML 代码</span>或 <span data-keyref="GML_Visual">GML 可视化</span>)的基本指南：</label></p>
  <ul class="colour">
    <li><a href="../../../../Additional_Information/Guide_To_Using_Particles.htm">粒子使用指南</a></li>
  </ul>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back:&nbsp;<a href="../Drawing.htm">绘制</a></div>
        <div style="float:right">Next:&nbsp;<a href="../Textures/Textures.htm">纹理</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Particles
-->
  <!-- TAGS
particle_functions
-->

</body></html>