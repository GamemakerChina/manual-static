<!--?xml version="1.0" encoding="utf-8" ?--><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../../../..";
    gCommonRootRelPath = "../../../..";
    gTopicId = "8.2.2.9.3";
  
//]]></script>

  <script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css">
  <link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css">
  <meta name="topic-status" content="Draft">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>DS Maps</title>
  <meta name="generator" content="Adobe RoboHelp 2022">
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css">
  <script src="../../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander">
  <meta name="topic-comment" content="Reference section for DS Maps">
  <meta name="rh-index-keywords" content="">
  <meta name="search-keywords" content="DS Maps">
<meta name="brsnext" value="GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/ds_map_exists.htm"><meta name="brsprev" value="GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/ds_list_is_map.htm"></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="DS Maps">
        <span>DS Maps</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1 id="h"><span data-field="title" data-format="default">DS Maps</span></h1>
  <p>The DS map data structure lets you store <b>key</b> and <b>value</b> pairs, making it an exceptionally useful one.</p>
  <p>For example, a character in your game can have a quantity of different items (<i>keys</i>) and for each individual item he can have a number of them (<i>values</i>), like in an RPG where you can have 10 health potions, 5 mana potions and 100 gold. Maps maintain such pairs all together in one place. You can add pairs to the map, search for the value corresponding to certain keys and use some simple functions.</p>
  <p>There are a couple of things you should know about maps before you use them, however! Maps are <i>not</i> sorted in any (recognisable) way, meaning that to find a certain key you may have to iterate through the whole thing (which is <b>very</b> slow). There is also no way to hold two keys that are the same, nor can you assign one key two values.</p>
  <p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">注意</span></span>&nbsp;推荐使用<a href="../../../GML_Overview/Structs.htm">结构</a>而不是DS 映射，因为它们具有相似的功能，更易于使用，并且会自动进行垃圾回收。</p>
  <p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">注意</span></span> 与所有动态资源一样，数据结构会占用内存，因此在不再需要时应<b>始终</b>销毁以防止内存泄漏，因为内存泄漏会降低游戏速度并最终导致游戏崩溃。</p>
  <div data-conref="../../../../assets/snippets/Note_Tip_Map_Key_Can_Be_Any.hts">
  <p class="note"><span data-conref="../../../../assets/snippets/Tag_tip.hts"><span class="tip">TIP</span></span>&nbsp;The key isn't limited to strings and can be of any&nbsp;type, including a&nbsp;<a href="../../../GML_Overview/Structs.htm#struct">struct</a>.</p>

</div>
  <p>除了下面列出的特定函数外，您还可以使用<a class="tooltip" title="表达式是一个或多个常量，变量，运算符和/或函数的组合，这些常量根据特定的优先级和关联规则进行解释以返回另一个值。一个简单的表达式是（5 + 5），它返回10。">表达式</a>(称为<i>访问器</i>)来添加或修改DS映射的内容。此存取器类似于1D阵列，具有以下语法：</p>
  <p class="code">map_index[? key]</p>
  <p>您可以从<a href="../../../GML_Overview/Accessors.htm">访问器</a>的GML 概述页面中找到更多信息和示例。</p>
  <p>存在以下处理DS映射的函数：</p>
  <ul class="colour">
    <li><a href="ds_map_exists.htm">ds_map_exists</a></li>
    <li><a href="ds_map_create.htm">ds_map_create</a></li>
    <li><a href="ds_map_add.htm">ds_map_add</a></li>
    <li><a href="ds_map_clear.htm">ds_map_clear</a></li>
    <li><a href="ds_map_copy.htm">ds_map_copy</a></li>
    <li><a href="ds_map_replace.htm">ds_map_replace</a></li>
    <li><a href="ds_map_delete.htm">ds_map_delete</a></li>
    <li><a href="ds_map_empty.htm">ds_map_empty</a></li>
    <li><a href="ds_map_size.htm">ds_map_size</a></li>
    <li><a href="ds_map_find_first.htm">ds_map_find_first</a></li>
    <li><a href="ds_map_find_last.htm">ds_map_find_last</a></li>
    <li><a href="ds_map_find_next.htm">ds_map_find_next</a></li>
    <li><a href="ds_map_find_previous.htm">ds_map_find_previous</a></li>
    <li><a href="ds_map_find_value.htm">ds_map_find_value</a></li>
    <li><a href="ds_map_keys_to_array.htm">ds_map_keys_to_array</a></li>
    <li><a href="ds_map_values_to_array.htm">ds_map_values_to_array</a></li>
    <li><a href="ds_map_set.htm">ds_map_set</a></li>
    <li><a href="ds_map_read.htm">ds_map_read</a></li>
    <li><a href="ds_map_write.htm">ds_map_write</a></li>
    <li><a href="ds_map_destroy.htm">ds_map_destroy</a></li>
  </ul>
  <p>&nbsp;</p>
  <p>还有四个函数可用于保存和加载DS映射。这些函数将模糊地图，并使用文件格式将其存储在目标平台上的安全位置，这意味着无法在设备之间传输最终文件：</p>
  <p>&nbsp;</p>
  <ul class="colour">
    <li><a href="ds_map_secure_save.htm">ds_map_secure_save</a></li>
    <li><a href="ds_map_secure_save_buffer.htm">ds_map_secure_save_buffer</a></li>
    <li><a href="ds_map_secure_load.htm">ds_map_secure_load</a></li>
    <li><a href="ds_map_secure_load_buffer.htm">ds_map_secure_load_buffer</a></li>
  </ul>
  <p>&nbsp;</p>
  <p>DS 映射的一个用途是与 JSON 一起使用时，因此有一些特殊函数专用于：</p>
  <p>&nbsp;</p>
  <ul class="colour">
    <li><a href="ds_map_add_list.htm">ds_map_add_list</a></li>
    <li><a href="ds_map_add_map.htm">ds_map_add_map</a></li>
    <li><a href="ds_map_replace_list.htm">ds_map_replace_list</a></li>
    <li><a href="ds_map_replace_map.htm">ds_map_replace_map</a></li>
    <li><a href="ds_map_is_list.htm">ds_map_is_list</a></li>
    <li><a href="ds_map_is_map.htm">ds_map_is_map</a></li>
  </ul>
  <p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"><span class="note">注意</span></span> 虽然这些函数允许您在映射中添加列表和映射，但它们对于JSON以外的任何内容都是无用的，并且如果将嵌套映射和列表写入磁盘或以任何其他方式进行访问，将无法正确读取。</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="../Data_Structures.htm">数据结构</a></div>
        <div style="float:right">Next: <a href="../DS_Priority_Queues/DS_Priority_Queues.htm">优先队列 Priority Queues</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
DS Maps
-->
  <!-- TAGS
ds_map_functions
-->

</body></html>